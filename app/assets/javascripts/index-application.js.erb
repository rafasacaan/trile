//= require jquery-1.8.3.min
//= require bootstrap.min
//= require jquery.dcjqaccordion.2.7
//= require jquery.scrollTo.min
//= require jquery.nicescroll
//= require jquery.sparkline
//= require common-scripts
//= require gritter/js/jquery.gritter
//= require gritter-conf
//= require sparkline-chart
//= require zabuto_calendar


$(function () {
        var unique_id = $.gritter.add({
            // (string | mandatory) the heading of the notification
            title: 'Bienvenido a Tu Trile',
            // (string | mandatory) the text inside the notification
            text: 'En Mi Trile podrás encontrar toda la información para gestionar tu consumo eléctrico y ser más eficiente.',
            // (string | optional) the image to display on the left
            image: '',
            // (bool | optional) if you want it to fade out on its own or just sit there
            sticky: false,
            // (int | optional) the time you want it to be alive for before fading out
            time: '2500',
            // (string | optional) the class name you want to apply to that specific message
            class_name: 'my-sticky-class'
        });
      
  return false;

});        
  
  
$(function () {
            $("#date-popover").popover({html: true, trigger: "manual"});
            $("#date-popover").hide();
            $("#date-popover").click(function (e) {
                $(this).hide();
            });
        
            $("#my-calendar").zabuto_calendar({
                action: function () {
                    return myDateFunction(this.id, false);
                },
                action_nav: function () {
                    return myNavFunction(this.id);
                },
                ajax: {
                    url: "",
                    modal: true
                },
                legend: [
                    {type: "text", label: "Special event", badge: "00"},
                    {type: "block", label: "Regular event", }
                ]
            });

    $.getJSON("/reports/index_measures", function(data) {
      $("#testchart").removeClass("loading");
      testchart.setData(data);
    });

        $("#linechart").sparkline([1,5,3,7,9,3,6,4,7,9,7,6,2], {
        type: 'line',
        resize: true,
        height: '75',
        width: '90%',        
        lineWidth: 1,
        lineColor: '#fff',
        spotColor: '#fff',
        fillColor: '',
        highlightLineColor: '#ffffff',
        spotRadius: 4,
        tooltipFormat: '<span style="display:block; padding:0px 10px 12px 0px;">' +
        '<span style="color: {{color}}">&#9679;</span> {{offset:names}} ({{percent.1}}%)</span>'
    
    });

    







        });
        
        
        function myNavFunction(id) {
            $("#date-popover").hide();
            var nav = $("#" + id).data("navigation");
            var to = $("#" + id).data("to");
            console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
        }  
    
        
 