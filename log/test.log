  [1m[36m (319.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (53.5ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (181.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying DEFAULT '' NOT NULL, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (50.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (40.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150511152613"]]
  [1m[36m (18.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (96.5ms)[0m  [1mCREATE TABLE "circuits" ("id" serial primary key, "user_id" integer, "description" text, "type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (51.9ms)[0m  CREATE  INDEX  "index_circuits_on_user_id" ON "circuits"  ("user_id")
  [1m[36m (67.5ms)[0m  [1mALTER TABLE "circuits" ADD CONSTRAINT "fk_rails_fe3eefaf0d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150513183751"]]
  [1m[36m (16.5ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (4.9ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (4.4ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (13.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (10.2ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (12.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (9.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (17.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (7.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (17.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (3.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (9.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (14.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (4.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (7.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (15.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:12:54', '2015-05-20 21:12:54', 298486374)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (19.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (19.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (5.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (5.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (9.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (14.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (7.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:44', '2015-05-20 21:26:44', 298486374)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (4.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (4.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (16.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)
  [1m[36mFixture Insert (1.5ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (3.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (6.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)[0m
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:26:45', '2015-05-20 21:26:45', 298486374)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (4.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (5.0ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (4.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (9.2ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (26.5ms)[0m  ALTER TABLE "circuits" DROP CONSTRAINT "fk_rails_fe3eefaf0d"
  [1m[36m (12.9ms)[0m  [1mDROP TABLE "circuits"[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150513183751"]]
  [1m[36m (20.8ms)[0m  [1mCOMMIT[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mDROP INDEX "index_users_on_reset_password_token"[0m
  [1m[35m (0.6ms)[0m  DROP INDEX "index_users_on_email"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150511152613"]]
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (21.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (99.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying DEFAULT '' NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (50.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (51.9ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150511152613"]]
  [1m[36m (23.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (98.3ms)[0m  [1mCREATE TABLE "circuits" ("id" serial primary key, "user_id" integer, "description" text, "type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (42.0ms)[0m  CREATE  INDEX  "index_circuits_on_user_id" ON "circuits"  ("user_id")
  [1m[36m (4.1ms)[0m  [1mALTER TABLE "circuits" ADD CONSTRAINT "fk_rails_e04677de9e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150513183751"]]
  [1m[36m (19.6ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (4.9ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (11.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (15.6ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (5.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (15.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.7ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (8.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (9.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (9.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (4.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (3.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (4.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (7.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-20 21:27:28', '2015-05-20 21:27:28', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
PG::NotNullViolation: ERROR:  null value in column "email" violates not-null constraint
DETAIL:  Failing row contains (980190962, , null, , null, null, null, 0, null, null, null, null, 2015-05-20 21:27:28, 2015-05-20 21:27:28).
: INSERT INTO "users" ("created_at", "updated_at", "id") VALUES ('2015-05-20 21:27:28', '2015-05-20 21:27:28', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (3.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (41.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (46.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (54.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 298486374)
  [1m[36mFixture Delete (2.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (25.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (6.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (16.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (6.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (13.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (8.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (3.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (7.9ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:17', '2015-05-22 02:22:17', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:17', '2015-05-22 02:22:17', 980190962)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (4.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (7.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:18', '2015-05-22 02:22:18', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (11.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36m (8.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:18', '2015-05-22 02:22:18', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (9.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', NULL, '2015-05-22 02:22:18', '2015-05-22 02:22:18', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)
PG::UndefinedColumn: ERROR:  column "column" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("column", "created_at", "updated_at", "...
                             ^
: INSERT INTO "users" ("column", "created_at", "updated_at", "id") VALUES ('value', '2015-05-22 02:22:18', '2015-05-22 02:22:18', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demana', '2015-05-22 02:36:34', '2015-05-22 02:36:34', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generacion', '2015-05-22 02:36:34', '2015-05-22 02:36:34', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 02:36:34', '2015-05-22 02:36:34', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 02:36:34', '2015-05-22 02:36:34', 298486374)[0m
  [1m[35m (19.2ms)[0m  COMMIT
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
ListinMesuresTest: test_return_list_of_all_zombies
--------------------------------------------------
Started GET "/zombies" for 127.0.0.1 at 2015-05-21 23:36:34 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Processing by WelcomeController#index as HTML
Completed 500 Internal Server Error in 7ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (20.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demanda', '2015-05-22 02:37:16', '2015-05-22 02:37:16', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generacion', '2015-05-22 02:37:16', '2015-05-22 02:37:16', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 02:37:16', '2015-05-22 02:37:16', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 02:37:16', '2015-05-22 02:37:16', 298486374)[0m
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Processing by WelcomeController#index as HTML
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.8ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ListinMesuresTest: test_return_list_of_all_zombies
--------------------------------------------------
Started GET "/zombies" for 127.0.0.1 at 2015-05-21 23:37:16 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (17.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 02:37:50', '2015-05-22 02:37:50', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 02:37:50', '2015-05-22 02:37:50', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 02:37:50', '2015-05-22 02:37:50', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 02:37:50', '2015-05-22 02:37:50', 298486374)[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
ListinMesuresTest: test_return_list_of_all_zombies
--------------------------------------------------
Started GET "/zombies" for 127.0.0.1 at 2015-05-21 23:37:50 -0300
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Processing by WelcomeController#index as HTML
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.9ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (21.9ms)
Completed 500 Internal Server Error in 49ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 02:41:28', '2015-05-22 02:41:28', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 02:41:28', '2015-05-22 02:41:28', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 02:41:28', '2015-05-22 02:41:28', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 02:41:28', '2015-05-22 02:41:28', 298486374)[0m
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (9.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-21 23:41:28 -0300
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Processing by WelcomeController#index as HTML
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (7.4ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (10.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 02:50:42', '2015-05-22 02:50:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 02:50:42', '2015-05-22 02:50:42', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 02:50:42', '2015-05-22 02:50:42', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 02:50:42', '2015-05-22 02:50:42', 298486374)[0m
  [1m[35m (6.7ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
Processing by WelcomeController#index as HTML
Completed 401 Unauthorized in 10ms
  Rendered text template (0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-21 23:50:42 -0300
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (7.8ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 02:57:16', '2015-05-22 02:57:16', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 02:57:16', '2015-05-22 02:57:16', 298486374)
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 02:57:16', '2015-05-22 02:57:16', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 02:57:16', '2015-05-22 02:57:16', 298486374)[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Completed 500 Internal Server Error in 9ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (7.0ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-21 23:57:16 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 03:00:43', '2015-05-22 03:00:43', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 03:00:43', '2015-05-22 03:00:43', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 03:00:43', '2015-05-22 03:00:43', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 03:00:43', '2015-05-22 03:00:43', 298486374)[0m
  [1m[35m (10.1ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 00:00:43 -0300
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 03:02:07', '2015-05-22 03:02:07', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 03:02:07', '2015-05-22 03:02:07', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 03:02:07', '2015-05-22 03:02:07', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 03:02:07', '2015-05-22 03:02:07', 298486374)[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36m (9.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 00:02:07 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (21.8ms)
  Rendered circuits/edit.html.erb within layouts/application (43.4ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 76ms (Views: 71.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["description", "MyText"], ["user_id", 980190962], ["created_at", "2015-05-22 03:02:07.876557"], ["updated_at", "2015-05-22 03:02:07.876557"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (9.4ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 03:11:08', '2015-05-22 03:11:08', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 03:11:08', '2015-05-22 03:11:08', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 03:11:08', '2015-05-22 03:11:08', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 03:11:08', '2015-05-22 03:11:08', 298486374)[0m
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["description", "MyText"], ["user_id", 980190962], ["created_at", "2015-05-22 03:11:08.447134"], ["updated_at", "2015-05-22 03:11:08.447134"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 15ms (ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.5ms)
  Rendered circuits/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.8ms)
  Rendered circuits/edit.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (8.8ms)
Completed 500 Internal Server Error in 11ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 00:11:08 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 03:12:22', '2015-05-22 03:12:22', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 03:12:22', '2015-05-22 03:12:22', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 03:12:22', '2015-05-22 03:12:22', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 03:12:22', '2015-05-22 03:12:22', 298486374)[0m
  [1m[35m (10.0ms)[0m  COMMIT
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 00:12:22 -0300
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.5ms)
  Rendered circuits/edit.html.erb within layouts/application (9.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (7.8ms)
Completed 500 Internal Server Error in 11ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["description", "MyText"], ["user_id", 980190962], ["created_at", "2015-05-22 03:12:22.741197"], ["updated_at", "2015-05-22 03:12:22.741197"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (36.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (90.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (49.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (7.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Demand', '2015-05-22 12:54:26', '2015-05-22 12:54:26', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (NULL, 'MyText', 'Generation', '2015-05-22 12:54:26', '2015-05-22 12:54:26', 298486374)
  [1m[36mFixture Delete (34.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 12:54:26', '2015-05-22 12:54:26', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 12:54:26', '2015-05-22 12:54:26', 298486374)[0m
  [1m[35m (20.3ms)[0m  COMMIT
  [1m[36m (8.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (15.2ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (8.6ms)
  Rendered layouts/_sidebar.html.erb (1.3ms)
  Rendered layouts/_alerts.html.erb (0.6ms)
  Rendered layouts/_right_side_bar.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 136ms (Views: 113.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (49.2ms)
  Rendered circuits/edit.html.erb within layouts/application (61.4ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 89ms (Views: 85.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  Rendered circuits/show.html.erb within layouts/application (31.0ms)
Completed 500 Internal Server Error in 49ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>nil}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "circuits" ("description", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "MyText"], ["user_id", 980190962], ["created_at", "2015-05-22 12:54:26.920439"], ["updated_at", "2015-05-22 12:54:26.920439"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 09:54:26 -0300
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 12:56:53', '2015-05-22 12:56:53', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 12:56:53', '2015-05-22 12:56:53', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 12:56:53', '2015-05-22 12:56:53', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 12:56:53', '2015-05-22 12:56:53', 298486374)[0m
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 09:56:53 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 18.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.6ms)
  Rendered circuits/new.html.erb within layouts/application (11.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (36.5ms)
Completed 500 Internal Server Error in 39ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 12:56:53.764177"], ["updated_at", "2015-05-22 12:56:53.764177"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 12:57:35', '2015-05-22 12:57:35', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 12:57:35', '2015-05-22 12:57:35', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 12:57:35', '2015-05-22 12:57:35', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 12:57:35', '2015-05-22 12:57:35', 298486374)[0m
  [1m[35m (3.0ms)[0m  COMMIT
  [1m[36m (9.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 09:57:35 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api"}
Completed 500 Internal Server Error in 25ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.6ms)
  Rendered circuits/edit.html.erb within layouts/application (11.0ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 16.7ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.3ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.2ms)
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 12:57:35.824739"], ["updated_at", "2015-05-22 12:57:35.824739"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (13.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:02:35', '2015-05-22 13:02:35', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:02:35', '2015-05-22 13:02:35', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:02:35', '2015-05-22 13:02:35', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:02:35', '2015-05-22 13:02:35', 298486374)[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (10.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 11ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:02:35.672489"], ["updated_at", "2015-05-22 13:02:35.672489"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (5.7ms)
  Rendered circuits/edit.html.erb within layouts/application (9.1ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 28.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (2.1ms)
  Rendered circuits/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 10:02:35 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api"}
Completed 500 Internal Server Error in 10ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1620.3ms)[0m  [1mDROP DATABASE IF EXISTS "solar_test"[0m
  [1m[35m (4165.9ms)[0m  CREATE DATABASE "solar_test" ENCODING = 'unicode'
  [1m[36mSQL (0.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (177.6ms)[0m  CREATE TABLE "circuits" ("id" serial primary key, "user_id" integer, "description" text, "type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (109.9ms)[0m  [1mCREATE  INDEX  "index_circuits_on_user_id" ON "circuits" USING btree ("user_id")[0m
  [1m[35m (110.9ms)[0m  CREATE TABLE "measures" ("id" serial primary key, "circuit_id" integer, "watts" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (130.2ms)[0m  [1mCREATE  INDEX  "index_measures_on_circuit_id" ON "measures" USING btree ("circuit_id")[0m
  [1m[35m (224.3ms)[0m  CREATE TABLE "users" ("id" serial primary key, "name" character varying DEFAULT '' NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (109.5ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (97.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users" USING btree ("reset_password_token")
  [1m[36m (43.3ms)[0m  [1mALTER TABLE "circuits" ADD CONSTRAINT "fk_rails_d7bf44846f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (43.3ms)[0m  ALTER TABLE "measures" ADD CONSTRAINT "fk_rails_b287402688"
FOREIGN KEY ("circuit_id")
  REFERENCES "circuits" ("id")

  [1m[36m (94.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (119.2ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (31.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150522130847')
  [1m[36m (32.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150513183751')[0m
  [1m[35m (43.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20150511152613')
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (32.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:14:27', '2015-05-22 13:14:27', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:14:27', '2015-05-22 13:14:27', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:14:27', '2015-05-22 13:14:27', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:14:27', '2015-05-22 13:14:27', 298486374)
  [1m[36m (20.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (31.5ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.0ms)
  Rendered circuits/new.html.erb within layouts/application (10.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:14:28.098452"], ["updated_at", "2015-05-22 13:14:28.098452"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.1ms)
  Rendered circuits/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 10:14:28 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api"}
Completed 500 Internal Server Error in 10ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (15.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:28:04', '2015-05-22 13:28:04', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:28:04', '2015-05-22 13:28:04', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:28:04', '2015-05-22 13:28:04', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:28:04', '2015-05-22 13:28:04', 298486374)[0m
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.7ms)
  Rendered circuits/new.html.erb within layouts/application (12.4ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:28:04.470509"], ["updated_at", "2015-05-22 13:28:04.470509"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.4ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 10:28:04 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api"}
Completed 500 Internal Server Error in 9ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (18.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:31:55', '2015-05-22 13:31:55', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:31:55', '2015-05-22 13:31:55', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:31:55', '2015-05-22 13:31:55', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:31:55', '2015-05-22 13:31:55', 298486374)[0m
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.8ms)
  Rendered circuits/new.html.erb within layouts/application (12.5ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 25.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (14.7ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:31:56.002521"], ["updated_at", "2015-05-22 13:31:56.002521"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (5.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 10:31:56 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api"}
Completed 500 Internal Server Error in 10ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:36:06', '2015-05-22 13:36:06', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:36:06', '2015-05-22 13:36:06', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:36:06', '2015-05-22 13:36:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:36:06', '2015-05-22 13:36:06', 298486374)[0m
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 18.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.0ms)
  Rendered circuits/edit.html.erb within layouts/application (10.3ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:36:07.125992"], ["updated_at", "2015-05-22 13:36:07.125992"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (2.0ms)
  Rendered circuits/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_user
---------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 10:36:07 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api"}
  [1m[36mMeasure Load (0.6ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
Completed 200 OK in 13ms (Views: 1.0ms | ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (25.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:52:12', '2015-05-22 13:52:12', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:52:12', '2015-05-22 13:52:12', 298486374)
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:52:12', '2015-05-22 13:52:12', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:52:12', '2015-05-22 13:52:12', 298486374)[0m
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (9.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 18.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
Started GET "/measures" for 127.0.0.1 at 2015-05-22 10:52:12 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.0ms)
  Rendered circuits/edit.html.erb within layouts/application (10.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 15.7ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:52:12.876347"], ["updated_at", "2015-05-22 13:52:12.876347"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.6ms)
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:53:24', '2015-05-22 13:53:24', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:53:24', '2015-05-22 13:53:24', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:53:24', '2015-05-22 13:53:24', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:53:24', '2015-05-22 13:53:24', 298486374)[0m
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.7ms)
  Rendered circuits/edit.html.erb within layouts/application (10.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 16.1ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.7ms)
  Rendered circuits/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:53:24.543980"], ["updated_at", "2015-05-22 13:53:24.543980"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (24.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:53:48', '2015-05-22 13:53:48', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:53:48', '2015-05-22 13:53:48', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:53:48', '2015-05-22 13:53:48', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:53:48', '2015-05-22 13:53:48', 298486374)[0m
  [1m[35m (9.8ms)[0m  COMMIT
  [1m[36m (9.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:53:48.861999"], ["updated_at", "2015-05-22 13:53:48.861999"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 17ms (ActiveRecord: 2.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.0ms)
  Rendered circuits/edit.html.erb within layouts/application (10.8ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 26.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
Started GET "/circuits/1/measures" for 127.0.0.1 at 2015-05-22 10:53:48 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"1"}
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 2.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:57:21', '2015-05-22 13:57:21', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:57:21', '2015-05-22 13:57:21', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:57:21', '2015-05-22 13:57:21', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:57:21', '2015-05-22 13:57:21', 298486374)[0m
  [1m[35m (6.6ms)[0m  COMMIT
  [1m[36m (8.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
Started GET "/circuits/1/measures" for 127.0.0.1 at 2015-05-22 10:57:21 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.8ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 11ms (ActiveRecord: 3.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.7ms)
  Rendered circuits/new.html.erb within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:57:22.118391"], ["updated_at", "2015-05-22 13:57:22.118391"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 11ms (ActiveRecord: 2.2ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (24.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 13:58:36', '2015-05-22 13:58:36', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 13:58:36', '2015-05-22 13:58:36', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 13:58:36', '2015-05-22 13:58:36', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 13:58:36', '2015-05-22 13:58:36', 298486374)[0m
  [1m[35m (5.2ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 21.5ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 13:58:37.066292"], ["updated_at", "2015-05-22 13:58:37.066292"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.4ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.2ms)
  Rendered circuits/edit.html.erb within layouts/application (8.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
Started GET "/circuits/1/measures" for 127.0.0.1 at 2015-05-22 10:58:37 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"1"}
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 1]]
Completed 200 OK in 14ms (Views: 1.3ms | ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 14:06:50', '2015-05-22 14:06:50', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 14:06:50', '2015-05-22 14:06:50', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 14:06:50', '2015-05-22 14:06:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 14:06:50', '2015-05-22 14:06:50', 298486374)[0m
  [1m[35m (11.5ms)[0m  COMMIT
  [1m[36m (8.9ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 24ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (9.1ms)
  Rendered circuits/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 14:06:51.086772"], ["updated_at", "2015-05-22 14:06:51.086772"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 14:06:51.123308"], ["updated_at", "2015-05-22 14:06:51.123308"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 11:06:51 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 13ms (Views: 1.0ms | ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (17.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 14:11:51', '2015-05-22 14:11:51', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 14:11:51', '2015-05-22 14:11:51', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 14:11:51', '2015-05-22 14:11:51', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 14:11:51', '2015-05-22 14:11:51', 298486374)[0m
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 14:11:51.578112"], ["updated_at", "2015-05-22 14:11:51.578112"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 16ms (ActiveRecord: 2.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.4ms)
  Rendered circuits/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 27.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.8ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 14:11:51.702383"], ["updated_at", "2015-05-22 14:11:51.702383"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 11:11:51 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 2.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (28.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 14:51:53', '2015-05-22 14:51:53', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 14:51:53', '2015-05-22 14:51:53', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 14:51:53', '2015-05-22 14:51:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 14:51:53', '2015-05-22 14:51:53', 298486374)[0m
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.4ms)
  Rendered circuits/edit.html.erb within layouts/application (12.3ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 25.8ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.3ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 14:51:53.802257"], ["updated_at", "2015-05-22 14:51:53.802257"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
ListinMesuresTest: test_creates_measures
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 14:51:53.890926"], ["updated_at", "2015-05-22 14:51:53.890926"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 11:51:53 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 14:51:53.918494"], ["updated_at", "2015-05-22 14:51:53.918494"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 11:51:53 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (27.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:09:13', '2015-05-22 15:09:13', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:09:13', '2015-05-22 15:09:13', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:09:13', '2015-05-22 15:09:13', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:09:13', '2015-05-22 15:09:13', 298486374)[0m
  [1m[35m (12.4ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:09:13.885952"], ["updated_at", "2015-05-22 15:09:13.885952"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:09:13 -0300
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
ListinMesuresTest: test_creates_measures
----------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:09:13.910331"], ["updated_at", "2015-05-22 15:09:13.910331"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:09:13 -0300
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/edit.html.erb within layouts/application (8.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:09:13.962386"], ["updated_at", "2015-05-22 15:09:13.962386"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.2ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.1ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (18.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:13:30', '2015-05-22 15:13:30', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:13:30', '2015-05-22 15:13:30', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:13:30', '2015-05-22 15:13:30', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:13:30', '2015-05-22 15:13:30', 298486374)[0m
  [1m[35m (10.4ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:13:31.044892"], ["updated_at", "2015-05-22 15:13:31.044892"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:13:31 -0300
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (10.4ms)
Completed 500 Internal Server Error in 23ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.9ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.8ms)
  Rendered circuits/edit.html.erb within layouts/application (12.8ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 31ms (Views: 21.0ms | ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:13:31.168895"], ["updated_at", "2015-05-22 15:13:31.168895"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.1ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:13:31.234607"], ["updated_at", "2015-05-22 15:13:31.234607"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:13:31 -0300
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (17.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:16:29', '2015-05-22 15:16:29', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:16:29', '2015-05-22 15:16:29', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:16:29', '2015-05-22 15:16:29', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:16:29', '2015-05-22 15:16:29', 298486374)[0m
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.7ms)
  Rendered circuits/edit.html.erb within layouts/application (12.6ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 26.2ms | ActiveRecord: 1.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:16:29.377961"], ["updated_at", "2015-05-22 15:16:29.377961"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.8ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:16:29.489228"], ["updated_at", "2015-05-22 15:16:29.489228"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:16:29 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:16:29.511465"], ["updated_at", "2015-05-22 15:16:29.511465"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:16:29 -0300
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (41.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:26:27', '2015-05-22 15:26:27', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:26:27', '2015-05-22 15:26:27', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:26:27', '2015-05-22 15:26:27', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:26:27', '2015-05-22 15:26:27', 298486374)[0m
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 18.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:26:28.030858"], ["updated_at", "2015-05-22 15:26:28.030858"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:26:28 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:26:28.070598"], ["updated_at", "2015-05-22 15:26:28.070598"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.6ms)
  Rendered circuits/new.html.erb within layouts/application (9.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 17.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.0ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:26:28.186842"], ["updated_at", "2015-05-22 15:26:28.186842"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:26:28 -0300
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (20.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:27:20', '2015-05-22 15:27:20', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:27:20', '2015-05-22 15:27:20', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:27:20', '2015-05-22 15:27:20', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:27:20', '2015-05-22 15:27:20', 298486374)[0m
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:27:20.708264"], ["updated_at", "2015-05-22 15:27:20.708264"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:27:20 -0300
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:27:20.737594"], ["updated_at", "2015-05-22 15:27:20.737594"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:27:20 -0300
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 19.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.7ms)
  Rendered circuits/new.html.erb within layouts/application (9.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.7ms)
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:27:20.886611"], ["updated_at", "2015-05-22 15:27:20.886611"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 8ms (ActiveRecord: 2.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:29:01', '2015-05-22 15:29:01', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:29:01', '2015-05-22 15:29:01', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:29:01', '2015-05-22 15:29:01', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:29:01', '2015-05-22 15:29:01', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (9.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:29:01.108631"], ["updated_at", "2015-05-22 15:29:01.108631"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 16ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.1ms)
  Rendered circuits/edit.html.erb within layouts/application (8.3ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:29:01.252793"], ["updated_at", "2015-05-22 15:29:01.252793"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:29:01 -0300
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:29:01.272790"], ["updated_at", "2015-05-22 15:29:01.272790"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:29:01 -0300
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (12.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:29:27', '2015-05-22 15:29:27', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:29:27', '2015-05-22 15:29:27', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:29:27', '2015-05-22 15:29:27', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:29:27', '2015-05-22 15:29:27', 298486374)[0m
  [1m[35m (10.6ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:29:27.156759"], ["updated_at", "2015-05-22 15:29:27.156759"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:29:27 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:29:27.184954"], ["updated_at", "2015-05-22 15:29:27.184954"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:29:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mMeasure Load (0.8ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190964]]
Completed 200 OK in 19ms (Views: 1.4ms | ActiveRecord: 2.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 19.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:29:27.299756"], ["updated_at", "2015-05-22 15:29:27.299756"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190965
Completed 302 Found in 14ms (ActiveRecord: 2.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.8ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:34:19', '2015-05-22 15:34:19', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:34:19', '2015-05-22 15:34:19', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:34:19', '2015-05-22 15:34:19', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:34:19', '2015-05-22 15:34:19', 298486374)[0m
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36m (10.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (10.6ms)
Completed 500 Internal Server Error in 23ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.0ms)
  Rendered circuits/edit.html.erb within layouts/application (10.3ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 20.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:34:19.629325"], ["updated_at", "2015-05-22 15:34:19.629325"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (1.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.7ms)
  Rendered circuits/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.7ms)
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:34:19.675899"], ["updated_at", "2015-05-22 15:34:19.675899"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:34:19 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 15:34:19.715272"], ["updated_at", "2015-05-22 15:34:19.715272"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 24ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:34:19.732283"], ["updated_at", "2015-05-22 15:34:19.732283"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:34:19 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (19.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:35:43', '2015-05-22 15:35:43', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:35:43', '2015-05-22 15:35:43', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:35:43', '2015-05-22 15:35:43', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:35:43', '2015-05-22 15:35:43', 298486374)[0m
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36m (8.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:35:43.841767"], ["updated_at", "2015-05-22 15:35:43.841767"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:35:43 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 18ms (Views: 1.1ms | ActiveRecord: 1.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:35:43.932321"], ["updated_at", "2015-05-22 15:35:43.932321"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.0ms)
  Rendered circuits/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.1ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:35:44.069171"], ["updated_at", "2015-05-22 15:35:44.069171"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:35:44 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-22 15:35:44.081377"], ["updated_at", "2015-05-22 15:35:44.081377"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (13.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:39:41', '2015-05-22 15:39:41', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:39:41', '2015-05-22 15:39:41', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:39:41', '2015-05-22 15:39:41', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:39:41', '2015-05-22 15:39:41', 298486374)[0m
  [1m[35m (10.1ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 17.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:39:41.973919"], ["updated_at", "2015-05-22 15:39:41.973919"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:39:41 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35mMeasure Load (0.7ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 2.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:39:42.017513"], ["updated_at", "2015-05-22 15:39:42.017513"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:39:42 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 15:39:42.030096"], ["updated_at", "2015-05-22 15:39:42.030096"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:39:42.124251"], ["updated_at", "2015-05-22 15:39:42.124251"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.7ms)
  Rendered circuits/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:40:47', '2015-05-22 15:40:47', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:40:47', '2015-05-22 15:40:47', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:40:47', '2015-05-22 15:40:47', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:40:47', '2015-05-22 15:40:47', 298486374)[0m
  [1m[35m (11.8ms)[0m  COMMIT
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:40:47.716793"], ["updated_at", "2015-05-22 15:40:47.716793"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 12:40:47 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 15:40:47.766143"], ["updated_at", "2015-05-22 15:40:47.766143"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 28ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 21ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.4ms)
  Rendered circuits/new.html.erb within layouts/application (12.9ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.6ms)
  Rendered layouts/_alerts.html.erb (0.6ms)
  Rendered layouts/_right_side_bar.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:40:47.907609"], ["updated_at", "2015-05-22 15:40:47.907609"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.8ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:40:47.934618"], ["updated_at", "2015-05-22 15:40:47.934618"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:40:47 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 15:41:57', '2015-05-22 15:41:57', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 15:41:57', '2015-05-22 15:41:57', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 15:41:57', '2015-05-22 15:41:57', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 15:41:57', '2015-05-22 15:41:57', 298486374)[0m
  [1m[35m (11.6ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 15:41:57.733747"], ["updated_at", "2015-05-22 15:41:57.733747"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 12ms (ActiveRecord: 3.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.1ms)
  Rendered circuits/edit.html.erb within layouts/application (9.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:41:57.854442"], ["updated_at", "2015-05-22 15:41:57.854442"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 12:41:57 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 15:41:57.894618"], ["updated_at", "2015-05-22 15:41:57.894618"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 23ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 15:41:57.910932"], ["updated_at", "2015-05-22 15:41:57.910932"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 12:41:57 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (84.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:00:28', '2015-05-22 16:00:28', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:00:28', '2015-05-22 16:00:28', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:00:28', '2015-05-22 16:00:28', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:00:28', '2015-05-22 16:00:28', 298486374)[0m
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:00:29.024426"], ["updated_at", "2015-05-22 16:00:29.024426"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:00:29 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35mMeasure Load (0.9ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 19ms (Views: 1.3ms | ActiveRecord: 2.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 18.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (11.2ms)
  Rendered circuits/new.html.erb within layouts/application (14.3ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.3ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:00:29.212897"], ["updated_at", "2015-05-22 16:00:29.212897"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.1ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.0ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.1ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.8ms)
  Rendered circuits/edit.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:00:29.250774"], ["updated_at", "2015-05-22 16:00:29.250774"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:00:29 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-22 16:00:29.262808"], ["updated_at", "2015-05-22 16:00:29.262808"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:12:47', '2015-05-22 16:12:47', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:12:47', '2015-05-22 16:12:47', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:12:47', '2015-05-22 16:12:47', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:12:47', '2015-05-22 16:12:47', 298486374)[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:12:47.455619"], ["updated_at", "2015-05-22 16:12:47.455619"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:12:47 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:12:47.504915"], ["updated_at", "2015-05-22 16:12:47.504915"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 29ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.9ms)
  Rendered circuits/new.html.erb within layouts/application (8.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.1ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:12:47.645911"], ["updated_at", "2015-05-22 16:12:47.645911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/edit.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:12:47.686504"], ["updated_at", "2015-05-22 16:12:47.686504"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:12:47 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.3ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:13:31', '2015-05-22 16:13:31', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:13:31', '2015-05-22 16:13:31', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:13:31', '2015-05-22 16:13:31', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:13:31', '2015-05-22 16:13:31', 298486374)[0m
  [1m[35m (30.6ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:13:31.919591"], ["updated_at", "2015-05-22 16:13:31.919591"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:13:31 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:13:31.968915"], ["updated_at", "2015-05-22 16:13:31.968915"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 32ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/edit.html.erb within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:13:32.100461"], ["updated_at", "2015-05-22 16:13:32.100461"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:13:32.157651"], ["updated_at", "2015-05-22 16:13:32.157651"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:13:32 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (20.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:14:09', '2015-05-22 16:14:09', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:14:09', '2015-05-22 16:14:09', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:14:09', '2015-05-22 16:14:09', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:14:09', '2015-05-22 16:14:09', 298486374)[0m
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (9.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:14:09.631066"], ["updated_at", "2015-05-22 16:14:09.631066"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:14:09 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35mMeasure Load (0.8ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 19ms (Views: 1.4ms | ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:14:09.732532"], ["updated_at", "2015-05-22 16:14:09.732532"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:14:09 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 16:14:09.745100"], ["updated_at", "2015-05-22 16:14:09.745100"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:14:09.772093"], ["updated_at", "2015-05-22 16:14:09.772093"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 10ms (ActiveRecord: 2.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.7ms)
  Rendered circuits/edit.html.erb within layouts/application (7.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (18.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:15:59', '2015-05-22 16:15:59', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:15:59', '2015-05-22 16:15:59', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:15:59', '2015-05-22 16:15:59', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:15:59', '2015-05-22 16:15:59', 298486374)[0m
  [1m[35m (11.3ms)[0m  COMMIT
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:16:00.006444"], ["updated_at", "2015-05-22 16:16:00.006444"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:16:00 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:16:00.055485"], ["updated_at", "2015-05-22 16:16:00.055485"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 29ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:16:00.129367"], ["updated_at", "2015-05-22 16:16:00.129367"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.7ms)
  Rendered circuits/edit.html.erb within layouts/application (8.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.2ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:16:00.237322"], ["updated_at", "2015-05-22 16:16:00.237322"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:16:00 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:16:44', '2015-05-22 16:16:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:16:44', '2015-05-22 16:16:44', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:16:44', '2015-05-22 16:16:44', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:16:44', '2015-05-22 16:16:44', 298486374)[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (9.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 19.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (5.8ms)
  Rendered circuits/edit.html.erb within layouts/application (6.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:16:44.222685"], ["updated_at", "2015-05-22 16:16:44.222685"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.8ms)
  Rendered circuits/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:16:44.300730"], ["updated_at", "2015-05-22 16:16:44.300730"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:16:44 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 16:16:44.340265"], ["updated_at", "2015-05-22 16:16:44.340265"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 23ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:16:44.354990"], ["updated_at", "2015-05-22 16:16:44.354990"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:16:44 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (31.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:17:16', '2015-05-22 16:17:16', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:17:16', '2015-05-22 16:17:16', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:17:16', '2015-05-22 16:17:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:17:16', '2015-05-22 16:17:16', 298486374)[0m
  [1m[35m (10.2ms)[0m  COMMIT
  [1m[36m (10.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.7ms)
  Rendered circuits/edit.html.erb within layouts/application (11.5ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 35ms (Views: 25.3ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:17:16.506712"], ["updated_at", "2015-05-22 16:17:16.506712"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:17:16.568298"], ["updated_at", "2015-05-22 16:17:16.568298"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:17:16 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:17:16.633007"], ["updated_at", "2015-05-22 16:17:16.633007"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:17:16 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-22 16:17:16.642463"], ["updated_at", "2015-05-22 16:17:16.642463"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:18:08', '2015-05-22 16:18:08', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:18:08', '2015-05-22 16:18:08', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:18:08', '2015-05-22 16:18:08', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:18:08', '2015-05-22 16:18:08', 298486374)[0m
  [1m[35m (9.6ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:18:08.831363"], ["updated_at", "2015-05-22 16:18:08.831363"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 16ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.3ms)
  Rendered circuits/edit.html.erb within layouts/application (7.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (2.0ms)
  Rendered circuits/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:18:08.954424"], ["updated_at", "2015-05-22 16:18:08.954424"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:18:08 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 16:18:08.995035"], ["updated_at", "2015-05-22 16:18:08.995035"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 23ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:18:09.030006"], ["updated_at", "2015-05-22 16:18:09.030006"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:18:09 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (17.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:19:09', '2015-05-22 16:19:09', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:19:09', '2015-05-22 16:19:09', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:19:09', '2015-05-22 16:19:09', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:19:09', '2015-05-22 16:19:09', 298486374)[0m
  [1m[35m (5.7ms)[0m  COMMIT
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:19:09.716283"], ["updated_at", "2015-05-22 16:19:09.716283"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:19:09 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:19:09.764292"], ["updated_at", "2015-05-22 16:19:09.764292"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 28ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:19:09.781573"], ["updated_at", "2015-05-22 16:19:09.781573"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:19:09 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:19:09.862472"], ["updated_at", "2015-05-22 16:19:09.862472"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.9ms)
  Rendered circuits/edit.html.erb within layouts/application (9.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (20.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:20:38', '2015-05-22 16:20:38', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:20:38', '2015-05-22 16:20:38', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:20:38', '2015-05-22 16:20:38', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:20:38', '2015-05-22 16:20:38', 298486374)[0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:20:38.959041"], ["updated_at", "2015-05-22 16:20:38.959041"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:20:38 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:20:39.008914"], ["updated_at", "2015-05-22 16:20:39.008914"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 35ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:20:39.030824"], ["updated_at", "2015-05-22 16:20:39.030824"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:20:39 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.7ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:20:39.074904"], ["updated_at", "2015-05-22 16:20:39.074904"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.9ms)
  Rendered circuits/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.6ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:25:10', '2015-05-22 16:25:10', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:25:10', '2015-05-22 16:25:10', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:25:10', '2015-05-22 16:25:10', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:25:10', '2015-05-22 16:25:10', 298486374)[0m
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:25:10.869999"], ["updated_at", "2015-05-22 16:25:10.869999"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 14ms (ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 21ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_sidebar.html.erb (1.5ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 20ms (Views: 16.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.8ms)
  Rendered circuits/new.html.erb within layouts/application (10.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:25:10.991466"], ["updated_at", "2015-05-22 16:25:10.991466"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:25:10 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 13ms (Views: 1.3ms | ActiveRecord: 2.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:25:11.061561"], ["updated_at", "2015-05-22 16:25:11.061561"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:25:11 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-22 16:25:11.072445"], ["updated_at", "2015-05-22 16:25:11.072445"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 10ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:26:28', '2015-05-22 16:26:28', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:26:28', '2015-05-22 16:26:28', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:26:28', '2015-05-22 16:26:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:26:28', '2015-05-22 16:26:28', 298486374)[0m
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.9ms)
  Rendered circuits/new.html.erb within layouts/application (12.9ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 34ms (Views: 26.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:26:28.632400"], ["updated_at", "2015-05-22 16:26:28.632400"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:26:28.682168"], ["updated_at", "2015-05-22 16:26:28.682168"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:26:28 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:26:28.744360"], ["updated_at", "2015-05-22 16:26:28.744360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:26:28 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-22 16:26:28.752776"], ["updated_at", "2015-05-22 16:26:28.752776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:27:58', '2015-05-22 16:27:58', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:27:58', '2015-05-22 16:27:58', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:27:58', '2015-05-22 16:27:58', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:27:58', '2015-05-22 16:27:58', 298486374)[0m
  [1m[35m (9.8ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:27:58.316881"], ["updated_at", "2015-05-22 16:27:58.316881"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:27:58 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:27:58.365766"], ["updated_at", "2015-05-22 16:27:58.365766"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 5.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:27:58.381966"], ["updated_at", "2015-05-22 16:27:58.381966"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:27:58 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.3ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.4ms)
  Rendered circuits/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.8ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:27:58.518062"], ["updated_at", "2015-05-22 16:27:58.518062"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (26.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:35:48', '2015-05-22 16:35:48', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:35:48', '2015-05-22 16:35:48', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:35:48', '2015-05-22 16:35:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:35:48', '2015-05-22 16:35:48', 298486374)[0m
  [1m[35m (10.2ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:35:48.918378"], ["updated_at", "2015-05-22 16:35:48.918378"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:35:48 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-22 16:35:48.967133"], ["updated_at", "2015-05-22 16:35:48.967133"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 24ms (Views: 0.4ms | ActiveRecord: 5.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 23.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:35:49.083015"], ["updated_at", "2015-05-22 16:35:49.083015"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.7ms)
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.4ms)
  Rendered circuits/new.html.erb within layouts/application (10.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (2.6ms)
  Rendered circuits/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:35:49.171999"], ["updated_at", "2015-05-22 16:35:49.171999"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:35:49 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (15.9ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:42:20', '2015-05-22 16:42:20', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:42:20', '2015-05-22 16:42:20', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:42:20', '2015-05-22 16:42:20', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:42:20', '2015-05-22 16:42:20', 298486374)[0m
  [1m[35m (6.8ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:42:20.879085"], ["updated_at", "2015-05-22 16:42:20.879085"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 15ms (ActiveRecord: 2.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.1ms)
  Rendered circuits/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.3ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:42:20.998140"], ["updated_at", "2015-05-22 16:42:20.998140"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:42:21 -0300
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:42:21.021495"], ["updated_at", "2015-05-22 16:42:21.021495"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-22 13:42:21 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mMeasure Load (0.6ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 17ms (Views: 2.4ms | ActiveRecord: 2.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.9ms)
  Rendered welcome/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.2ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-22 16:42:37', '2015-05-22 16:42:37', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-22 16:42:37', '2015-05-22 16:42:37', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-22 16:42:37', '2015-05-22 16:42:37', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-22 16:42:37', '2015-05-22 16:42:37', 298486374)[0m
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (9.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------
ListinMesuresTest: test_return_list_of_all_measures_form_current_circuit
------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:42:37.808731"], ["updated_at", "2015-05-22 16:42:37.808731"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-22 13:42:37 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[35mMeasure Load (0.7ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 19ms (Views: 1.2ms | ActiveRecord: 2.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-22 16:42:37.862949"], ["updated_at", "2015-05-22 16:42:37.862949"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-22 13:42:37 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-22 16:42:37.875113"], ["updated_at", "2015-05-22 16:42:37.875113"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 2.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.7ms)
  Rendered circuits/edit.html.erb within layouts/application (12.2ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 27.5ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.1ms)
  Rendered circuits/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-22 16:42:38.012153"], ["updated_at", "2015-05-22 16:42:38.012153"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (20.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (63.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (44.3ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (6.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-26 20:21:42', '2015-05-26 20:21:42', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-26 20:21:42', '2015-05-26 20:21:42', 298486374)
  [1m[36mFixture Delete (17.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-26 20:21:42', '2015-05-26 20:21:42', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-26 20:21:42', '2015-05-26 20:21:42', 298486374)[0m
  [1m[35m (17.7ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_token
--------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 19.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (21.6ms)
  Rendered circuits/new.html.erb within layouts/application (23.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 43ms (Views: 40.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (19.9ms)
Completed 500 Internal Server Error in 22ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (4.5ms)
  Rendered circuits/edit.html.erb within layouts/application (6.7ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (39.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 45ms (ActiveRecord: 40.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.3ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-26 20:21:43.425050"], ["updated_at", "2015-05-26 20:21:43.425050"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 20:21:43.442424"], ["updated_at", "2015-05-26 20:21:43.442424"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-26 17:21:43 -0300
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (72.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-26 20:23:37', '2015-05-26 20:23:37', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-26 20:23:37', '2015-05-26 20:23:37', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-26 20:23:37', '2015-05-26 20:23:37', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-26 20:23:37', '2015-05-26 20:23:37', 298486374)[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (11.2ms)
  Rendered circuits/edit.html.erb within layouts/application (15.2ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-26 20:23:38.006867"], ["updated_at", "2015-05-26 20:23:38.006867"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.9ms)
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_token
--------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 20:23:38.079888"], ["updated_at", "2015-05-26 20:23:38.079888"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-26 17:23:38 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.1ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 29ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (18.9ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-26 20:24:44', '2015-05-26 20:24:44', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-26 20:24:44', '2015-05-26 20:24:44', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-26 20:24:44', '2015-05-26 20:24:44', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-26 20:24:44', '2015-05-26 20:24:44', 298486374)[0m
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (8.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-26 20:24:44.780453"], ["updated_at", "2015-05-26 20:24:44.780453"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 15ms (ActiveRecord: 2.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.5ms)
  Rendered circuits/edit.html.erb within layouts/application (10.5ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 28.3ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.6ms)
  Rendered circuits/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.3ms)
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 20:24:44.913637"], ["updated_at", "2015-05-26 20:24:44.913637"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-26 17:24:44 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 12ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_token
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 20:24:44.975101"], ["updated_at", "2015-05-26 20:24:44.975101"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-26 17:24:44 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-26 20:31:08', '2015-05-26 20:31:08', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-26 20:31:08', '2015-05-26 20:31:08', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-26 20:31:08', '2015-05-26 20:31:08', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-26 20:31:08', '2015-05-26 20:31:08', 298486374)[0m
  [1m[35m (6.3ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 20:31:08.410106"], ["updated_at", "2015-05-26 20:31:08.410106"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-26 17:31:08 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_token
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.8ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.0ms)
  Rendered circuits/edit.html.erb within layouts/application (9.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-26 20:31:08.622327"], ["updated_at", "2015-05-26 20:31:08.622327"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (25.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-26 20:39:43', '2015-05-26 20:39:43', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-26 20:39:43', '2015-05-26 20:39:43', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-26 20:39:43', '2015-05-26 20:39:43', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-26 20:39:43', '2015-05-26 20:39:43', 298486374)[0m
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (10.5ms)
Completed 500 Internal Server Error in 24ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-26 20:39:43.797573"], ["updated_at", "2015-05-26 20:39:43.797573"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.7ms)
  Rendered circuits/edit.html.erb within layouts/application (12.0ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_token
--------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 20:39:43.909249"], ["updated_at", "2015-05-26 20:39:43.909249"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-26 17:39:43 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-26 21:35:16', '2015-05-26 21:35:16', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-26 21:35:16', '2015-05-26 21:35:16', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-26 21:35:16', '2015-05-26 21:35:16', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-26 21:35:16', '2015-05-26 21:35:16', 298486374)[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-26 21:35:16.377069"], ["updated_at", "2015-05-26 21:35:16.377069"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-26 18:35:16 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 16.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.6ms)
  Rendered circuits/edit.html.erb within layouts/application (8.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.1ms)
  Rendered circuits/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.7ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-26 21:35:16.658300"], ["updated_at", "2015-05-26 21:35:16.658300"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (22.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (89.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (35.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (8.1ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 13:32:45', '2015-05-27 13:32:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 13:32:45', '2015-05-27 13:32:45', 298486374)
  [1m[36mFixture Delete (13.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 13:32:45', '2015-05-27 13:32:45', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 13:32:45', '2015-05-27 13:32:45', 298486374)[0m
  [1m[35m (16.2ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 13:32:45.896723"], ["updated_at", "2015-05-27 13:32:45.896723"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 43ms (ActiveRecord: 2.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (14.4ms)
  Rendered circuits/edit.html.erb within layouts/application (33.5ms)
  Rendered layouts/_navigation_links.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (17.5ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 204ms (Views: 197.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (33.1ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 40ms (ActiveRecord: 33.9ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (42.0ms)
Completed 500 Internal Server Error in 57ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.2ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (22.1ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 29.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 13:32:46.439849"], ["updated_at", "2015-05-27 13:32:46.439849"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 10:32:46 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 36ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (27.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 13:40:06', '2015-05-27 13:40:06', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 13:40:06', '2015-05-27 13:40:06', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 13:40:06', '2015-05-27 13:40:06', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 13:40:06', '2015-05-27 13:40:06', 298486374)[0m
  [1m[35m (10.7ms)[0m  COMMIT
  [1m[36m (8.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 19.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 13:40:06.177950"], ["updated_at", "2015-05-27 13:40:06.177950"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 10:40:06 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.8ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 8ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.3ms)
  Rendered circuits/edit.html.erb within layouts/application (8.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.8ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 13:40:06.325474"], ["updated_at", "2015-05-27 13:40:06.325474"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 13:47:45', '2015-05-27 13:47:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 13:47:45', '2015-05-27 13:47:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 13:47:45', '2015-05-27 13:47:45', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 13:47:45', '2015-05-27 13:47:45', 298486374)[0m
  [1m[35m (3.7ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 13:47:45.790946"], ["updated_at", "2015-05-27 13:47:45.790946"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 10:47:45 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 9ms (ActiveRecord: 3.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.8ms)
  Rendered circuits/edit.html.erb within layouts/application (9.1ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 13:47:45.998867"], ["updated_at", "2015-05-27 13:47:45.998867"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 13:51:51', '2015-05-27 13:51:51', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 13:51:51', '2015-05-27 13:51:51', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 13:51:51', '2015-05-27 13:51:51', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 13:51:51', '2015-05-27 13:51:51', 298486374)[0m
  [1m[35m (10.2ms)[0m  COMMIT
  [1m[36m (9.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.7ms)
Completed 500 Internal Server Error in 27ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (10.2ms)
  Rendered circuits/new.html.erb within layouts/application (11.9ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 13:51:51.505729"], ["updated_at", "2015-05-27 13:51:51.505729"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 13:51:51.516144"], ["updated_at", "2015-05-27 13:51:51.516144"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 10:51:51 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 14:55:46', '2015-05-27 14:55:46', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 14:55:46', '2015-05-27 14:55:46', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 14:55:46', '2015-05-27 14:55:46', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 14:55:46', '2015-05-27 14:55:46', 298486374)[0m
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 14:55:46.428304"], ["updated_at", "2015-05-27 14:55:46.428304"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 11:55:46 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/edit.html.erb within layouts/application (8.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 14:55:46.648306"], ["updated_at", "2015-05-27 14:55:46.648306"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (12.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 14:56:37', '2015-05-27 14:56:37', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 14:56:37', '2015-05-27 14:56:37', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 14:56:37', '2015-05-27 14:56:37', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 14:56:37', '2015-05-27 14:56:37', 298486374)[0m
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36m (10.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.6ms)
Completed 500 Internal Server Error in 23ms
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 14:56:37.631768"], ["updated_at", "2015-05-27 14:56:37.631768"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/edit.html.erb within layouts/application (11.0ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 14:56:37.703597"], ["updated_at", "2015-05-27 14:56:37.703597"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 11:56:37 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (26.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 15:16:19', '2015-05-27 15:16:19', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 15:16:19', '2015-05-27 15:16:19', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 15:16:19', '2015-05-27 15:16:19', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 15:16:19', '2015-05-27 15:16:19', 298486374)[0m
  [1m[35m (6.3ms)[0m  COMMIT
  [1m[36m (86.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 19.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 15:16:19.813132"], ["updated_at", "2015-05-27 15:16:19.813132"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (13.6ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.0ms)
  Rendered circuits/edit.html.erb within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 15:16:19.948879"], ["updated_at", "2015-05-27 15:16:19.948879"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 12:16:19 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 15:21:10', '2015-05-27 15:21:10', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 15:21:10', '2015-05-27 15:21:10', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 15:21:10', '2015-05-27 15:21:10', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 15:21:10', '2015-05-27 15:21:10', 298486374)[0m
  [1m[35m (3.5ms)[0m  COMMIT
  [1m[36m (8.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 15:21:11.007815"], ["updated_at", "2015-05-27 15:21:11.007815"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 12:21:11 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 15:21:11.097305"], ["updated_at", "2015-05-27 15:21:11.097305"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.7ms)
  Rendered circuits/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 24.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.4ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 15:22:09', '2015-05-27 15:22:09', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 15:22:09', '2015-05-27 15:22:09', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 15:22:09', '2015-05-27 15:22:09', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 15:22:09', '2015-05-27 15:22:09', 298486374)[0m
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (9.9ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 19.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 15:22:09.411748"], ["updated_at", "2015-05-27 15:22:09.411748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 12:22:09 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.9ms)
  Rendered circuits/edit.html.erb within layouts/application (8.1ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 15:22:09.572051"], ["updated_at", "2015-05-27 15:22:09.572051"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 15:24:42', '2015-05-27 15:24:42', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 15:24:42', '2015-05-27 15:24:42', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 15:24:43', '2015-05-27 15:24:43', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 15:24:43', '2015-05-27 15:24:43', 298486374)[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (10.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 15:24:43.069997"], ["updated_at", "2015-05-27 15:24:43.069997"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 12:24:43 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 16.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.6ms)
  Rendered circuits/new.html.erb within layouts/application (9.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (14.7ms)
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 15:24:43.270255"], ["updated_at", "2015-05-27 15:24:43.270255"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$C5VPkNfoFv3THSUpduOeh./Sx.ZGRhFGCSlfuwMq4mYjcwVValBCK"], ["created_at", "2015-05-27 15:24:43.306946"], ["updated_at", "2015-05-27 15:24:43.306946"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$tN8lhJfZvbZAClu3TwdQxOinA/Csw5ERAwf8J/uULVo3Ii7jb24wG"], ["created_at", "2015-05-27 15:24:43.324074"], ["updated_at", "2015-05-27 15:24:43.324074"]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$yHQWbPclczumkgeuaEtQIOHrxrcrvhWyIDgtbiQp7gSM5tlKL.3B2"], ["created_at", "2015-05-27 15:24:43.343313"], ["updated_at", "2015-05-27 15:24:43.343313"]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$6943TLp31.Z6VAM/OblJJOhT6qTdBpoBgzpyw.nreCcLKcAzjGT3a"], ["created_at", "2015-05-27 15:24:43.360814"], ["updated_at", "2015-05-27 15:24:43.360814"]]
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 15:35:29', '2015-05-27 15:35:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 15:35:29', '2015-05-27 15:35:29', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2015-05-27 15:35:29', '2015-05-27 15:35:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2015-05-27 15:35:29', '2015-05-27 15:35:29', 298486374)[0m
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36m (10.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 19.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 15:35:29.341241"], ["updated_at", "2015-05-27 15:35:29.341241"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 12:35:29 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.3ms)
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 15:35:29.428498"], ["updated_at", "2015-05-27 15:35:29.428498"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190964
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.5ms)
  Rendered circuits/new.html.erb within layouts/application (10.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 3.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '1bd9c48b3bee46f82fe962ca9517d9bf', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '1bd9c48b3bee46f82fe962ca9517d9bf', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (14.1ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (7.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '3a3c7a54d61e601e3a31a62bba0bc904', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '3a3c7a54d61e601e3a31a62bba0bc904', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (16.9ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.6ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '1855ff138a8a86218ec2dd1063d0c61d', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '1855ff138a8a86218ec2dd1063d0c61d', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.9ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '3716d64afbbc7a51a5e9c495a2f82852', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '3716d64afbbc7a51a5e9c495a2f82852', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (10.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2f500ce8070ed6b31540baca5779df55', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2f500ce8070ed6b31540baca5779df55', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.5ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '4e80b20d0b1830171a1733abcf8bcef6', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '4e80b20d0b1830171a1733abcf8bcef6', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (10.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', 'e605451a87273dd64272d308d4943207', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', 'e605451a87273dd64272d308d4943207', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (3.0ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (6.0ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '658ff63230b68efd60aaef51029aab87', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '658ff63230b68efd60aaef51029aab87', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (5.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (6.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', 'f81b84d244e835f88235736ca202d232', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', 'f81b84d244e835f88235736ca202d232', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.9ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (7.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', 'df83cee153bb312acf31775bc86dd3e1', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', 'df83cee153bb312acf31775bc86dd3e1', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.3ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (7.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '9bd0d154b2f37fa55bf0e231b74587f2', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '9bd0d154b2f37fa55bf0e231b74587f2', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.2ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (7.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '98e2c69bcf9c47702c6c081e16023394', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '98e2c69bcf9c47702c6c081e16023394', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.0ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (5.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '146b7d7b1d7942f4b9afcf8a7d6a55ee', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '146b7d7b1d7942f4b9afcf8a7d6a55ee', '2015-05-27 16:17:45', '2015-05-27 16:17:45', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (8.5ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (24.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (4.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (4.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (7.9ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (4.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (9.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (5.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.9ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (6.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (3.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (4.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (4.4ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (7.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (6.3ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (6.8ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (13.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35mUser Load (10.1ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (13.8ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (5.1ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (4.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (5.9ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (6.1ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (28.0ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (21.6ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (8.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (22.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.9ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (9.6ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (22.1ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.9ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (11.3ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (8.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (19.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.2ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (7.3ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (17.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (3.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.4ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (6.3ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:41', '2015-05-27 16:22:41', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (17.4ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (6.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.7ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (7.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (16.1ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (4.7ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:22:42', '2015-05-27 16:22:42', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.3ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (7.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'measures'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (3.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.5ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (12.7ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (4.1ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (18.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.1ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (13.5ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (8.5ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (5.5ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.4ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.5ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (8.4ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (3.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (8.0ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.4ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (9.9ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (7.8ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (5.2ms)[0m  ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.8ms)[0m  ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL
  [1m[36m (6.9ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (5.6ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (6.2ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (5.7ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (4.9ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (5.0ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (6.0ms)[0m  [1mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "circuits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)[0m
PG::UndefinedColumn: ERROR:  column "auth_token" of relation "users" does not exist
LINE 1: INSERT INTO "users" ("name", "email", "auth_token", "created...
                                              ^
: INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:27:02', '2015-05-27 16:27:02', 980190962)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (7.2ms)[0m  [1mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users"
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to Measure (20150522130847)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (9.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'measures'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (68.4ms)[0m  ALTER TABLE "measures" DROP CONSTRAINT "fk_rails_b287402688"
  [1m[36m (16.6ms)[0m  [1mDROP TABLE "measures"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150522130847"]]
  [1m[36m (11.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (7.6ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "circuits" DROP CONSTRAINT "fk_rails_d7bf44846f"
  [1m[36m (2.6ms)[0m  [1mDROP TABLE "circuits"[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150513183751"]]
  [1m[36m (20.1ms)[0m  [1mCOMMIT[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mDROP INDEX "index_users_on_reset_password_token"[0m
  [1m[35m (0.5ms)[0m  DROP INDEX "index_users_on_email"
  [1m[36m (29.7ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150511152613"]]
  [1m[36m (13.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (18.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (255.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying DEFAULT '' NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "auth_token" text, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (38.8ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (39.3ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150511152613"]]
  [1m[36m (19.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (82.1ms)[0m  [1mCREATE TABLE "circuits" ("id" serial primary key, "user_id" integer, "description" text, "type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (51.1ms)[0m  CREATE  INDEX  "index_circuits_on_user_id" ON "circuits"  ("user_id")
  [1m[36m (21.4ms)[0m  [1mALTER TABLE "circuits" ADD CONSTRAINT "fk_rails_cdfc653008"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150513183751"]]
  [1m[36m (9.9ms)[0m  [1mCOMMIT[0m
Migrating to Measure (20150522130847)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (38.5ms)[0m  [1mCREATE TABLE "measures" ("id" serial primary key, "circuit_id" integer, "watts" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (42.3ms)[0m  CREATE  INDEX  "index_measures_on_circuit_id" ON "measures"  ("circuit_id")
  [1m[36m (2.8ms)[0m  [1mALTER TABLE "measures" ADD CONSTRAINT "fk_rails_d93a10bffd"
FOREIGN KEY ("circuit_id")
  REFERENCES "circuits" ("id")
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150522130847"]]
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (5.9ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (4.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'measures'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.7ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 16:55:36', '2015-05-27 16:55:36', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 16:55:36', '2015-05-27 16:55:36', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 16:55:36', '2015-05-27 16:55:36', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 16:55:36', '2015-05-27 16:55:36', 298486374)[0m
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[36m (8.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "74a1b712c65686651b7cd6abb5fe4a69"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$dmx58gwmZDSoY3VgP20/puJph5jVU5vgrIqYUzN8srl5ENck5eSq6"], ["created_at", "2015-05-27 16:55:36.992454"], ["updated_at", "2015-05-27 16:55:36.992454"], ["auth_token", "74a1b712c65686651b7cd6abb5fe4a69"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 16:55:37.011813"], ["updated_at", "2015-05-27 16:55:37.011813"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 13:55:37 -0300
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "29ea58c771bb75c3d16ec27e0d87ee57"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$WcCpq.SpdivIqnsLfs4j2u.NmdkmY5y2sbiZwSVp77AM4BriZCVF."], ["created_at", "2015-05-27 16:55:37.050890"], ["updated_at", "2015-05-27 16:55:37.050890"], ["auth_token", "29ea58c771bb75c3d16ec27e0d87ee57"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/measures" for 127.0.0.1 at 2015-05-27 13:55:37 -0300
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "3262240d785598c5df87b6a7e866eb99"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$ZTgFz4aat/unZgc569hFU..TZsDGAa5GQgLoneJood2Z2WKMovs42"], ["created_at", "2015-05-27 16:55:37.073157"], ["updated_at", "2015-05-27 16:55:37.073157"], ["auth_token", "3262240d785598c5df87b6a7e866eb99"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/measures" for 127.0.0.1 at 2015-05-27 13:55:37 -0300
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "2c932d9e2a8036720ef8d6000f54ef2a"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$MgzyTEo6wZaHE8zEW79V.uP4O2.sVsp7hV4EMLgE6z8wzJbCbRMim"], ["created_at", "2015-05-27 16:55:37.093595"], ["updated_at", "2015-05-27 16:55:37.093595"], ["auth_token", "2c932d9e2a8036720ef8d6000f54ef2a"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/measures" for 127.0.0.1 at 2015-05-27 13:55:37 -0300
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 20.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 16:55:37.182457"], ["updated_at", "2015-05-27 16:55:37.182457"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.6ms)
  Rendered circuits/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.3ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 2.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 16:55:37.284763"], ["updated_at", "2015-05-27 16:55:37.284763"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 13:55:37 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 14ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:06:59', '2015-05-27 17:06:59', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:06:59', '2015-05-27 17:06:59', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:06:59', '2015-05-27 17:06:59', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:06:59', '2015-05-27 17:06:59', 298486374)[0m
  [1m[35m (11.8ms)[0m  COMMIT
  [1m[36m (8.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3ed7633f4624bf89a8d39a45f465e290"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$mLAL4jakq46tW2IKmHY4KODzwCEJT2dKNTTqB/l0h0RP1uLY42b4i"], ["created_at", "2015-05-27 17:06:59.660861"], ["updated_at", "2015-05-27 17:06:59.660861"], ["auth_token", "3ed7633f4624bf89a8d39a45f465e290"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/measures" for 127.0.0.1 at 2015-05-27 14:06:59 -0300
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "0255e5de71ab0c7828652d9a6560e511"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$G/wujSiMONdvtSdg/aLmSO6hkTH4mY34WRQIMjvgpbQFPlGdIMAai"], ["created_at", "2015-05-27 17:06:59.701451"], ["updated_at", "2015-05-27 17:06:59.701451"], ["auth_token", "0255e5de71ab0c7828652d9a6560e511"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/measures" for 127.0.0.1 at 2015-05-27 14:06:59 -0300
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "d96861063ae8197da953fe665c7071dd"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$ELC8X7OkRVfjfkAXe7iMI.dgDqN3Au9ifPAmGZJOXnOtp2BNzqJJC"], ["created_at", "2015-05-27 17:06:59.725244"], ["updated_at", "2015-05-27 17:06:59.725244"], ["auth_token", "d96861063ae8197da953fe665c7071dd"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/measures" for 127.0.0.1 at 2015-05-27 14:06:59 -0300
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "68aebd54567337c1f4655cd9885e0ccd"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$WdPc7uYNFtT9moQ8GaGTIOX.7aNhUxD7U//BPuN5rD9VlFnXgMpuC"], ["created_at", "2015-05-27 17:06:59.744061"], ["updated_at", "2015-05-27 17:06:59.744061"], ["auth_token", "68aebd54567337c1f4655cd9885e0ccd"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:06:59.755921"], ["updated_at", "2015-05-27 17:06:59.755921"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:06:59 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 23ms (Views: 18.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:06:59.871821"], ["updated_at", "2015-05-27 17:06:59.871821"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (1.1ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 9ms (ActiveRecord: 3.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (18.2ms)
  Rendered circuits/edit.html.erb within layouts/application (19.4ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.1ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (9.5ms)
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:06:59.976189"], ["updated_at", "2015-05-27 17:06:59.976189"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:06:59 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (15.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:09:07', '2015-05-27 17:09:07', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:09:07', '2015-05-27 17:09:07', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:09:07', '2015-05-27 17:09:07', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:09:07', '2015-05-27 17:09:07', 298486374)[0m
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (8.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:09:07.078073"], ["updated_at", "2015-05-27 17:09:07.078073"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:09:07 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "6f8a14039c308afbb05d7872699de495"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$UMgQHpKfa9vq0x/U5zMgme9XLBpAFRRmXWVmKdvaXthkNWvccqJwW"], ["created_at", "2015-05-27 17:09:07.195389"], ["updated_at", "2015-05-27 17:09:07.195389"], ["auth_token", "6f8a14039c308afbb05d7872699de495"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:09:07.201936"], ["updated_at", "2015-05-27 17:09:07.201936"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:09:07 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "15a2dd2282d368ff1a00b4fe286caf84"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$kt0g9nodXKCgXMl.6zI9y.zv/pdwympSoLta6Kzbx/90tQuUz54a6"], ["created_at", "2015-05-27 17:09:07.227718"], ["updated_at", "2015-05-27 17:09:07.227718"], ["auth_token", "15a2dd2282d368ff1a00b4fe286caf84"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/measures" for 127.0.0.1 at 2015-05-27 14:09:07 -0300
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3456c88f533a2c77a7eae7da45e97d30"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$4O3FXcyOjMvrLg.1.QYJpueHWcINqgDCove9kfhDHaM5xvMnXquUW"], ["created_at", "2015-05-27 17:09:07.252592"], ["updated_at", "2015-05-27 17:09:07.252592"], ["auth_token", "3456c88f533a2c77a7eae7da45e97d30"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:09:07.257167"], ["updated_at", "2015-05-27 17:09:07.257167"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:09:07 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3456c88f533a2c77a7eae7da45e97d30"]]
  [1m[35mMeasure Load (0.8ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 3.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "24674eb607e8aa9f710cc80ef6e1c371"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$4Xnkcwl5.ABYi0oiwlYAQ..TOf/wl0dzoxU4sT5Z4fb6di3jm1YtC"], ["created_at", "2015-05-27 17:09:07.286296"], ["updated_at", "2015-05-27 17:09:07.286296"], ["auth_token", "24674eb607e8aa9f710cc80ef6e1c371"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/measures" for 127.0.0.1 at 2015-05-27 14:09:07 -0300
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:09:07.326499"], ["updated_at", "2015-05-27 17:09:07.326499"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190966
Completed 302 Found in 18ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/edit.html.erb within layouts/application (9.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.0ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.5ms)
  Rendered circuits/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:10:27', '2015-05-27 17:10:27', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:10:27', '2015-05-27 17:10:27', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:10:27', '2015-05-27 17:10:27', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:10:27', '2015-05-27 17:10:27', 298486374)[0m
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "8633cbf486d34bab122b0fe3314052f3"]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$kOGCdqeGym6Y3bFVTKhPG.TV9voDQghgEG2ffTfOagGXbcFWAuh76"], ["created_at", "2015-05-27 17:10:27.344519"], ["updated_at", "2015-05-27 17:10:27.344519"], ["auth_token", "8633cbf486d34bab122b0fe3314052f3"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:10:27.374426"], ["updated_at", "2015-05-27 17:10:27.374426"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:10:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "8633cbf486d34bab122b0fe3314052f3\"fake"]]
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 22ms (Views: 7.2ms | ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "1dc5780605f7ed70be70e8a54969d085"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$fju.2d06EAYu2/DZtyXA1.xfJcKnN.tSmpk1QcKQIhP./mRN8l5bS"], ["created_at", "2015-05-27 17:10:27.447726"], ["updated_at", "2015-05-27 17:10:27.447726"], ["auth_token", "1dc5780605f7ed70be70e8a54969d085"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:10:27.452594"], ["updated_at", "2015-05-27 17:10:27.452594"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:10:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "c34a99c2c97f28997fde88be5f38e8a0"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$suRtR9NjWapCGPBoguE.R.Hr1bV672jujbxw/EZkKo/1STEo39zUW"], ["created_at", "2015-05-27 17:10:27.475303"], ["updated_at", "2015-05-27 17:10:27.475303"], ["auth_token", "c34a99c2c97f28997fde88be5f38e8a0"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:10:27.479184"], ["updated_at", "2015-05-27 17:10:27.479184"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:10:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "c34a99c2c97f28997fde88be5f38e8a0"]]
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "9a3bae9c4bade751b52c55c454948bd7"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$2EfqZJ04ljFwyZPLDOgf5urUoLC9CArgOf2KRv21aFrtToho3LyrC"], ["created_at", "2015-05-27 17:10:27.505145"], ["updated_at", "2015-05-27 17:10:27.505145"], ["auth_token", "9a3bae9c4bade751b52c55c454948bd7"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/measures" for 127.0.0.1 at 2015-05-27 14:10:27 -0300
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:10:27.556368"], ["updated_at", "2015-05-27 17:10:27.556368"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:10:27 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190966}, "subdomain"=>"api", "circuit_id"=>"980190966"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.8ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 16ms (ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.3ms)
  Rendered circuits/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:10:27.668655"], ["updated_at", "2015-05-27 17:10:27.668655"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190967
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:11:40', '2015-05-27 17:11:40', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:11:40', '2015-05-27 17:11:40', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:11:40', '2015-05-27 17:11:40', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:11:40', '2015-05-27 17:11:40', 298486374)[0m
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:11:40.784798"], ["updated_at", "2015-05-27 17:11:40.784798"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:11:40 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "0c12d898ef3d426bc674f7bfc61fe1c0"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$kee71wv/hWNJD4VfGB6sT.NxHGl2JS/J9OW6JaeGlKSg5mG80qQi."], ["created_at", "2015-05-27 17:11:40.859834"], ["updated_at", "2015-05-27 17:11:40.859834"], ["auth_token", "0c12d898ef3d426bc674f7bfc61fe1c0"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:11:40.870386"], ["updated_at", "2015-05-27 17:11:40.870386"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "2569875925996f9bd508e91301c8a1ce"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$Pt88WpDrABajb9G78G45bud/4Ancsb9nu8lJGD2TSDu9i9GjuG7Ny"], ["created_at", "2015-05-27 17:11:40.895456"], ["updated_at", "2015-05-27 17:11:40.895456"], ["auth_token", "2569875925996f9bd508e91301c8a1ce"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:11:40.901731"], ["updated_at", "2015-05-27 17:11:40.901731"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:11:40 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "2569875925996f9bd508e91301c8a1ce"]]
  [1m[36mMeasure Load (0.7ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 3.3ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "de897252c6ff569de0837b62b9248c9e"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$vPtEUQnzCBIezx43Ii8CqOeq.dHulwTh9weZOvp7EyjsVlcBSUrRy"], ["created_at", "2015-05-27 17:11:40.935368"], ["updated_at", "2015-05-27 17:11:40.935368"], ["auth_token", "de897252c6ff569de0837b62b9248c9e"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:11:40.941931"], ["updated_at", "2015-05-27 17:11:40.941931"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:11:40 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "125bf2a6175c780b9ffe7d170513e3d0"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$hGkGa8d6JoF8YKzJgacFG..k4aw5IeJ81lM5rJFwbYTdt8XPQfC7u"], ["created_at", "2015-05-27 17:11:40.962687"], ["updated_at", "2015-05-27 17:11:40.962687"], ["auth_token", "125bf2a6175c780b9ffe7d170513e3d0"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:11:40.967203"], ["updated_at", "2015-05-27 17:11:40.967203"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 14:11:40 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "125bf2a6175c780b9ffe7d170513e3d0\"fake"]]
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 21ms (ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:11:41.080972"], ["updated_at", "2015-05-27 17:11:41.080972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190968
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.8ms)
  Rendered circuits/edit.html.erb within layouts/application (10.5ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:15:27', '2015-05-27 17:15:27', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:15:27', '2015-05-27 17:15:27', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:15:27', '2015-05-27 17:15:27', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:15:27', '2015-05-27 17:15:27', 298486374)[0m
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (9.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:15:27.950324"], ["updated_at", "2015-05-27 17:15:27.950324"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 22ms (ActiveRecord: 2.4ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.6ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_sidebar.html.erb (1.3ms)
  Rendered layouts/_alerts.html.erb (0.6ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.4ms)
  Rendered circuits/new.html.erb within layouts/application (10.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (2.3ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (22.6ms)
Completed 500 Internal Server Error in 25ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "40b369c6852fe974334d671c9276109a"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$Q.qcbRS2x3HZwoXCqjY.j.K9Ps0Bexo0e56esoJ/5lPqiTqMSwJc6"], ["created_at", "2015-05-27 17:15:28.098242"], ["updated_at", "2015-05-27 17:15:28.098242"], ["auth_token", "40b369c6852fe974334d671c9276109a"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:15:28.106023"], ["updated_at", "2015-05-27 17:15:28.106023"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:15:28 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "40b369c6852fe974334d671c9276109a\"fake"]]
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "9dc59f0cb4501d0be8b5e5da20a5635e"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$zfdV.kshlhMQQ385WltQx.yweyjk76UUVfQW8DJXGaCEYHhGyhiu."], ["created_at", "2015-05-27 17:15:28.166063"], ["updated_at", "2015-05-27 17:15:28.166063"], ["auth_token", "9dc59f0cb4501d0be8b5e5da20a5635e"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:15:28.171436"], ["updated_at", "2015-05-27 17:15:28.171436"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:15:28 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "87e95d5c4d8e06cdfba5053fa040f0fc"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$ODGHjj5ZiGCcbt9vYnwCsODZnhi7Rjgq8yS.FjCaKPPm0e0SaFJG2"], ["created_at", "2015-05-27 17:15:28.199542"], ["updated_at", "2015-05-27 17:15:28.199542"], ["auth_token", "87e95d5c4d8e06cdfba5053fa040f0fc"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:15:28.204884"], ["updated_at", "2015-05-27 17:15:28.204884"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:15:28 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "87e95d5c4d8e06cdfba5053fa040f0fc"]]
  [1m[36mMeasure Load (0.3ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 8ms (Views: 1.7ms | ActiveRecord: 2.6ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "efe5b3e04c09f4bb7a54ad0781a81fae"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$jJ55LPERwGRvHemu9VO3UOQf7yPyrPn9QC2fbHm8XLfIyzEM0afi6"], ["created_at", "2015-05-27 17:15:28.236740"], ["updated_at", "2015-05-27 17:15:28.236740"], ["auth_token", "efe5b3e04c09f4bb7a54ad0781a81fae"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:15:28.241139"], ["updated_at", "2015-05-27 17:15:28.241139"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 14:15:28 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "efe5b3e04c09f4bb7a54ad0781a81fae"]]
  [1m[36mMeasure Load (0.7ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190967]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:15:28.260195"], ["updated_at", "2015-05-27 17:15:28.260195"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190968/measures" for 127.0.0.1 at 2015-05-27 14:15:28 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190968}, "subdomain"=>"api", "circuit_id"=>"980190968"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (19.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:25:25', '2015-05-27 17:25:25', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:25:25', '2015-05-27 17:25:25', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:25:25', '2015-05-27 17:25:25', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:25:25', '2015-05-27 17:25:25', 298486374)[0m
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (8.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:25:25.791890"], ["updated_at", "2015-05-27 17:25:25.791890"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:25:25 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5688584d4048881ee51ff2ed0ef07a67"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$LSbYEhrtItu0cGsngZCNMuItLkJ/0MJKlS1xxetqtAKEaivv/CESe"], ["created_at", "2015-05-27 17:25:25.868721"], ["updated_at", "2015-05-27 17:25:25.868721"], ["auth_token", "5688584d4048881ee51ff2ed0ef07a67"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:25:25.878251"], ["updated_at", "2015-05-27 17:25:25.878251"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:25:25 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5688584d4048881ee51ff2ed0ef07a67\"fake"]]
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "e2779e53ccff2655bdb0b64d737ea6fe"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$jxsoErMyj1n433dkJddF5.SC1/bfK2.db5D079VG0TWShvQUZSVcK"], ["created_at", "2015-05-27 17:25:25.907379"], ["updated_at", "2015-05-27 17:25:25.907379"], ["auth_token", "e2779e53ccff2655bdb0b64d737ea6fe"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:25:25.912544"], ["updated_at", "2015-05-27 17:25:25.912544"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:25:25 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "e2779e53ccff2655bdb0b64d737ea6fe"]]
  [1m[35mMeasure Load (0.7ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 3.1ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "70d7d0e5548e52cb005a61c3549e4025"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$HpF3yYvWdZSCMYRGidyAm.2VKXJckzhwnUhFx3OkV5s8U8/hBpMUq"], ["created_at", "2015-05-27 17:25:25.940892"], ["updated_at", "2015-05-27 17:25:25.940892"], ["auth_token", "70d7d0e5548e52cb005a61c3549e4025"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:25:25.946306"], ["updated_at", "2015-05-27 17:25:25.946306"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "d2d5dd1ef0eadec5c4d577d9fdada47e"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$Y3QxoiR5Diij2XhmSdzGRuxZkjUBIhup2k312LxS4WXfA4SNbga3e"], ["created_at", "2015-05-27 17:25:25.963427"], ["updated_at", "2015-05-27 17:25:25.963427"], ["auth_token", "d2d5dd1ef0eadec5c4d577d9fdada47e"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:25:25.967882"], ["updated_at", "2015-05-27 17:25:25.967882"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 14:25:25 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "d2d5dd1ef0eadec5c4d577d9fdada47e"]]
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190967]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.9ms)
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:25:26.024853"], ["updated_at", "2015-05-27 17:25:26.024853"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190968
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.6ms)
  Rendered circuits/edit.html.erb within layouts/application (10.1ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:26:01', '2015-05-27 17:26:01', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:26:01', '2015-05-27 17:26:01', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:26:01', '2015-05-27 17:26:01', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:26:01', '2015-05-27 17:26:01', 298486374)[0m
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 19.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:26:01.975555"], ["updated_at", "2015-05-27 17:26:01.975555"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:26:01 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.1ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "635267189312f8a9d1cc17b45d8a5cf7"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$Qnt1I4Dog23.FwMqC6KyeeSs/lozgqQFCESnaQD3wkU8huLBjOfsC"], ["created_at", "2015-05-27 17:26:02.034828"], ["updated_at", "2015-05-27 17:26:02.034828"], ["auth_token", "635267189312f8a9d1cc17b45d8a5cf7"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:26:02.046031"], ["updated_at", "2015-05-27 17:26:02.046031"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:26:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "51a89896b00d8337106444b190ec432d"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$uE1MZffF8YzgkF8vN0mxIOCNEYCNU8Dp1PkBw6U1c2AkcZ13sKdQm"], ["created_at", "2015-05-27 17:26:02.071504"], ["updated_at", "2015-05-27 17:26:02.071504"], ["auth_token", "51a89896b00d8337106444b190ec432d"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:26:02.077149"], ["updated_at", "2015-05-27 17:26:02.077149"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:26:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "51a89896b00d8337106444b190ec432d"]]
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 2.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5d7687d4eb1948cb52e42bfaf24bc626"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$JeYSdVtY.DW42Bb8Vn5/9ub6PDXhzlZfsIX6V0/oYS061AxWg8.DG"], ["created_at", "2015-05-27 17:26:02.108056"], ["updated_at", "2015-05-27 17:26:02.108056"], ["auth_token", "5d7687d4eb1948cb52e42bfaf24bc626"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:26:02.113326"], ["updated_at", "2015-05-27 17:26:02.113326"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:26:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5d7687d4eb1948cb52e42bfaf24bc626\"fake"]]
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "06cc6b3b13a4652f3afa5d64f1adc13d"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$HP6NWi6TmLAP0F0nt4ORguuPgNWiMo.ZB9Nnh3CciLnvDweOK..ne"], ["created_at", "2015-05-27 17:26:02.141695"], ["updated_at", "2015-05-27 17:26:02.141695"], ["auth_token", "06cc6b3b13a4652f3afa5d64f1adc13d"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:26:02.145955"], ["updated_at", "2015-05-27 17:26:02.145955"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 14:26:02 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "06cc6b3b13a4652f3afa5d64f1adc13d"]]
  [1m[35mMeasure Load (0.7ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190967]]
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.3ms)
  Rendered circuits/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:26:02.243167"], ["updated_at", "2015-05-27 17:26:02.243167"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190968
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 5.3ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:29:01', '2015-05-27 17:29:01', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:29:01', '2015-05-27 17:29:01', 298486374)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:29:01', '2015-05-27 17:29:01', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:29:01', '2015-05-27 17:29:01', 298486374)[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36m (8.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 18.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6fa4794e83ad00233cb67da378c630a8"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$KoAUD1QkZzrWxGBXJyGZW.KwcjrXAQ5EwpJDI7QpCnq9iSeoWY95a"], ["created_at", "2015-05-27 17:29:02.044806"], ["updated_at", "2015-05-27 17:29:02.044806"], ["auth_token", "6fa4794e83ad00233cb67da378c630a8"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:29:02.059041"], ["updated_at", "2015-05-27 17:29:02.059041"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:29:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9cd412f39b17a09792e88cbc9a345cca"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$4sR.nEf6hvYDORaHrzfBUOfVhxiGyKsOyABBHecPDh6SC1TfrS1v2"], ["created_at", "2015-05-27 17:29:02.115674"], ["updated_at", "2015-05-27 17:29:02.115674"], ["auth_token", "9cd412f39b17a09792e88cbc9a345cca"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:29:02.124662"], ["updated_at", "2015-05-27 17:29:02.124662"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:29:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9cd412f39b17a09792e88cbc9a345cca"]]
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 2.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f9096a471b8c0d762fb66b1e35784d1b"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$5Brd8iKmpKbrJFyBrVgWTuvvE4FtZ6t0/qik62PScteo6gKoWF7Sm"], ["created_at", "2015-05-27 17:29:02.158240"], ["updated_at", "2015-05-27 17:29:02.158240"], ["auth_token", "f9096a471b8c0d762fb66b1e35784d1b"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:29:02.164668"], ["updated_at", "2015-05-27 17:29:02.164668"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:29:02 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f9096a471b8c0d762fb66b1e35784d1b"]]
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "c447089a6611eb6587fd2d1d1b6fd1ef"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$evMBwX0Zh9.ENPRUGVG6zO.SYnyxc87gTUQgdQPoI7I6p8avcEnCC"], ["created_at", "2015-05-27 17:29:02.194808"], ["updated_at", "2015-05-27 17:29:02.194808"], ["auth_token", "c447089a6611eb6587fd2d1d1b6fd1ef"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:29:02.200956"], ["updated_at", "2015-05-27 17:29:02.200956"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:29:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "c447089a6611eb6587fd2d1d1b6fd1ef\"fake"]]
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:29:02.219760"], ["updated_at", "2015-05-27 17:29:02.219760"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (12.7ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.7ms)
  Rendered circuits/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:29:02.322307"], ["updated_at", "2015-05-27 17:29:02.322307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190968
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (29.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:30:11', '2015-05-27 17:30:11', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:30:11', '2015-05-27 17:30:11', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:30:11', '2015-05-27 17:30:11', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:30:11', '2015-05-27 17:30:11', 298486374)[0m
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "c993f83efd1fedec0bd69e1ff8c5486f"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$PVv3xyRwjTUyCmn/28Kq0uQQmJKxIK0ahSjJ6Gx9OIVmFpdywbSGy"], ["created_at", "2015-05-27 17:30:11.865530"], ["updated_at", "2015-05-27 17:30:11.865530"], ["auth_token", "c993f83efd1fedec0bd69e1ff8c5486f"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:30:11.883259"], ["updated_at", "2015-05-27 17:30:11.883259"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 14:30:11 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "c993f83efd1fedec0bd69e1ff8c5486f"]]
  [1m[35mMeasure Load (0.7ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 21ms (Views: 1.3ms | ActiveRecord: 3.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6b84ba61af96edd6c5d613a9a0a3a686"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$DwRXwqlm3YFybJTN7sssreMpcAlzZ2ox0G/RXEPIlhaE3Y8Ku8TBu"], ["created_at", "2015-05-27 17:30:11.954417"], ["updated_at", "2015-05-27 17:30:11.954417"], ["auth_token", "6b84ba61af96edd6c5d613a9a0a3a686"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:30:11.960011"], ["updated_at", "2015-05-27 17:30:11.960011"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:30:11 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6b84ba61af96edd6c5d613a9a0a3a686\"fake"]]
  Rendered text template (0.1ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5ec1a5178a79c6895cff7fbda1ba944a"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$rKjSspq5GKmhDonO1Ox8XubohBrittElGSNfofTfffXx4s9cbOpiK"], ["created_at", "2015-05-27 17:30:11.989782"], ["updated_at", "2015-05-27 17:30:11.989782"], ["auth_token", "5ec1a5178a79c6895cff7fbda1ba944a"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:30:11.994067"], ["updated_at", "2015-05-27 17:30:11.994067"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:30:11 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "99fa50fc7384f230af87e952f050030c"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$mGkvj.RZJvpfFYUI73XijuyYiKh3JGPB8zzx06ijU7CtxpgvEz0.C"], ["created_at", "2015-05-27 17:30:12.014674"], ["updated_at", "2015-05-27 17:30:12.014674"], ["auth_token", "99fa50fc7384f230af87e952f050030c"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:30:12.019208"], ["updated_at", "2015-05-27 17:30:12.019208"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:30:12 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "99fa50fc7384f230af87e952f050030c"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:30:12.039735"], ["updated_at", "2015-05-27 17:30:12.039735"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 14:30:12 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190967}, "subdomain"=>"api", "circuit_id"=>"980190967"}
  Rendered text template (0.0ms)
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.6ms)
  Rendered circuits/edit.html.erb within layouts/application (8.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (2.0ms)
  Rendered circuits/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:30:12.182968"], ["updated_at", "2015-05-27 17:30:12.182968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190968
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (22.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (1, 'MyText', 'Demand', '2015-05-27 17:54:26', '2015-05-27 17:54:26', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "type", "created_at", "updated_at", "id") VALUES (2, 'MyText', 'Generation', '2015-05-27 17:54:26', '2015-05-27 17:54:26', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 17:54:26', '2015-05-27 17:54:26', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 17:54:26', '2015-05-27 17:54:26', 298486374)[0m
  [1m[35m (4.9ms)[0m  COMMIT
  [1m[36m (9.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 17:54:26.592225"], ["updated_at", "2015-05-27 17:54:26.592225"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 14ms (ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (12.0ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 29ms (Views: 26.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.1ms)
  Rendered circuits/edit.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered circuits/show.html.erb within layouts/application (11.7ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"1"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:54:26.705467"], ["updated_at", "2015-05-27 17:54:26.705467"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 14:54:26 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-27 17:54:26.756402"], ["updated_at", "2015-05-27 17:54:26.756402"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 4.3ms)
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "139b5f9ae1773441d58bbffdf4555724"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$QZnxX3p0ZvrCna0MrxgD..0/3pLR4IqvIDHfFbgUc6.vWQOZ2i9HO"], ["created_at", "2015-05-27 17:54:26.811425"], ["updated_at", "2015-05-27 17:54:26.811425"], ["auth_token", "139b5f9ae1773441d58bbffdf4555724"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:54:26.819238"], ["updated_at", "2015-05-27 17:54:26.819238"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 14:54:26 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_3
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "9a1b01b28a8efd06ce5b4623c926503a"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$CKuXUQRI.bSdxkSqPMEbZ.4dV1b6dUYTBSGRemz.Fn9RlVJ7Frcju"], ["created_at", "2015-05-27 17:54:26.849733"], ["updated_at", "2015-05-27 17:54:26.849733"], ["auth_token", "9a1b01b28a8efd06ce5b4623c926503a"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_3
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:54:26.855156"], ["updated_at", "2015-05-27 17:54:26.855156"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_3[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 14:54:26 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "9a1b01b28a8efd06ce5b4623c926503a"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_3[0m
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_3
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f8f48aeb8e6a0ee6dcb8464daa4faa13"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$5vvk2e5tRhob6c79/3Wy0.oSoMVtW7Skbr.j30F2TIl9gxs8SZwLK"], ["created_at", "2015-05-27 17:54:26.881081"], ["updated_at", "2015-05-27 17:54:26.881081"], ["auth_token", "f8f48aeb8e6a0ee6dcb8464daa4faa13"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:54:26.885891"], ["updated_at", "2015-05-27 17:54:26.885891"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_4
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 14:54:26 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f8f48aeb8e6a0ee6dcb8464daa4faa13"]]
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190967]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_4
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_4
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_4[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "f807f65c92cfbc8a5edcd421594299b0"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$zcuMYGAUuNffGKHvTum2tuYpbMMp4d0stpqyyvgdkcsBQNuAtb0cO"], ["created_at", "2015-05-27 17:54:26.909364"], ["updated_at", "2015-05-27 17:54:26.909364"], ["auth_token", "f807f65c92cfbc8a5edcd421594299b0"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 17:54:26.913521"], ["updated_at", "2015-05-27 17:54:26.913521"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
Started GET "/circuits/980190968/measures" for 127.0.0.1 at 2015-05-27 14:54:26 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190968"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "f807f65c92cfbc8a5edcd421594299b0\"fake"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190968]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 18:02:04', '2015-05-27 18:02:04', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 18:02:04', '2015-05-27 18:02:04', 298486374, 980190962)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 18:02:04', '2015-05-27 18:02:04', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 18:02:04', '2015-05-27 18:02:04', 298486374)[0m
  [1m[35m (10.1ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:02:04.198395"], ["updated_at", "2015-05-27 18:02:04.198395"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 15:02:04 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 12ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mCircuit Load (0.8ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "6f32cb1400f207d524d527ac9f4c9c7e"]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$y9I5LdIcqmujwATZ6Uu86.QkZjCafRFO.rETK50uvlzvJDyQyIciO"], ["created_at", "2015-05-27 18:02:04.282775"], ["updated_at", "2015-05-27 18:02:04.282775"], ["auth_token", "6f32cb1400f207d524d527ac9f4c9c7e"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:02:04.293469"], ["updated_at", "2015-05-27 18:02:04.293469"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 15:02:04 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "6f32cb1400f207d524d527ac9f4c9c7e\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_cdfc653008" on table "circuits"
DETAIL:  Key (id)=(980190962) is still referenced from table "circuits".
: DELETE FROM "users" WHERE "users"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (2.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_cdfc653008" on table "circuits"
DETAIL:  Key (id)=(980190962) is still referenced from table "circuits".
: DELETE FROM "users" WHERE "users"."id" = $1
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_3
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_cdfc653008" on table "circuits"
DETAIL:  Key (id)=(980190962) is still referenced from table "circuits".
: DELETE FROM "users" WHERE "users"."id" = $1
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_3
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_3[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_4
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_4
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_cdfc653008" on table "circuits"
DETAIL:  Key (id)=(980190962) is still referenced from table "circuits".
: DELETE FROM "users" WHERE "users"."id" = $1
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_4[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 18:02:04.487224"], ["updated_at", "2015-05-27 18:02:04.487224"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
Redirected to http://test.host/demands/980190965
Completed 302 Found in 20ms (ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_4
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_4
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.0ms)
  Rendered circuits/new.html.erb within layouts/application (9.7ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_4[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (8.4ms)
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.9ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 1.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_4
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (13.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 18:03:27', '2015-05-27 18:03:27', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 18:03:27', '2015-05-27 18:03:27', 298486374, 980190962)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 18:03:27', '2015-05-27 18:03:27', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 18:03:27', '2015-05-27 18:03:27', 298486374)[0m
  [1m[35m (11.9ms)[0m  COMMIT
  [1m[36m (10.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.7ms)
  Rendered circuits/edit.html.erb within layouts/application (12.6ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 26.3ms | ActiveRecord: 1.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 18:03:27.635367"], ["updated_at", "2015-05-27 18:03:27.635367"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.6ms)
  Rendered circuits/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (8.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (10.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "b12a3864b15266179d6de11a2eeb4dc8"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$OTPX5z31W9onJaTCNSA5J.VXtPxx.hldtkfQj.C.i4d41B/RDbI.6"], ["created_at", "2015-05-27 18:03:27.739952"], ["updated_at", "2015-05-27 18:03:27.739952"], ["auth_token", "b12a3864b15266179d6de11a2eeb4dc8"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:03:27.750336"], ["updated_at", "2015-05-27 18:03:27.750336"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 15:03:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "b12a3864b15266179d6de11a2eeb4dc8\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "b2520f3fe99de31c186bcd034455a620"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$TP.TKhP.oNUKaDXpMgDHQeLJdsrz7O9ICIIPB9so3/6Ug4y6e/x8C"], ["created_at", "2015-05-27 18:03:27.816339"], ["updated_at", "2015-05-27 18:03:27.816339"], ["auth_token", "b2520f3fe99de31c186bcd034455a620"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:03:27.821666"], ["updated_at", "2015-05-27 18:03:27.821666"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 15:03:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "b2520f3fe99de31c186bcd034455a620"]]
  [1m[35mMeasure Load (0.3ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 2.7ms)
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "a198d190dbd82f88b6565cb32b904ba5"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$z.HkJbZb9meW1BAxE4zQ2uMuyahciDJhK98TojbDhQvHZltQrwf6y"], ["created_at", "2015-05-27 18:03:27.852718"], ["updated_at", "2015-05-27 18:03:27.852718"], ["auth_token", "a198d190dbd82f88b6565cb32b904ba5"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:03:27.857148"], ["updated_at", "2015-05-27 18:03:27.857148"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 15:03:27 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "a198d190dbd82f88b6565cb32b904ba5"]]
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190966]]
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 1.2ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "5b35ae0512c6639d84833167342dd58b"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$PJLR67cMOLV9MnPY3.AG4erY3IsbiZCLXglz5s1dyhI/JVxRB34ia"], ["created_at", "2015-05-27 18:03:27.891136"], ["updated_at", "2015-05-27 18:03:27.891136"], ["auth_token", "5b35ae0512c6639d84833167342dd58b"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:03:27.896645"], ["updated_at", "2015-05-27 18:03:27.896645"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 15:03:27 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190967]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 18:03:27.939821"], ["updated_at", "2015-05-27 18:03:27.939821"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190968/measures" for 127.0.0.1 at 2015-05-27 15:03:27 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190968}, "subdomain"=>"api", "circuit_id"=>"980190968"}
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190968]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:29:59', '2015-05-27 19:29:59', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:29:59', '2015-05-27 19:29:59', 298486374, 980190962)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:29:59', '2015-05-27 19:29:59', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:29:59', '2015-05-27 19:29:59', 298486374)[0m
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 19.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "43dee8dd0b3c867ba713f9f0c2fc1e61"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$jrq6cJFdj6stEGtECHgbCuXbdK/s3hN.U5NgoTeMYsdnwIUME9N7y"], ["created_at", "2015-05-27 19:30:00.093422"], ["updated_at", "2015-05-27 19:30:00.093422"], ["auth_token", "43dee8dd0b3c867ba713f9f0c2fc1e61"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:30:00.110451"], ["updated_at", "2015-05-27 19:30:00.110451"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:30:00 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "43dee8dd0b3c867ba713f9f0c2fc1e61\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "47c27f0db349f91fbe842e719cb9603a"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$vjtVM/d3.5Mx2ADlq7.dn.oZuRYs9IOZSMVbrNfke0xEH6WMXRS0."], ["created_at", "2015-05-27 19:30:00.175217"], ["updated_at", "2015-05-27 19:30:00.175217"], ["auth_token", "47c27f0db349f91fbe842e719cb9603a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:30:00.181105"], ["updated_at", "2015-05-27 19:30:00.181105"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:30:00 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "47c27f0db349f91fbe842e719cb9603a"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190964]]
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 2.9ms)
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "a27da59c11f6d4ad7bba733cb137084b"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$00YYavACR3Z5OkrOK1In3u85LyOLybnkO0FYQK3eXQMCAFetZJfsa"], ["created_at", "2015-05-27 19:30:00.219359"], ["updated_at", "2015-05-27 19:30:00.219359"], ["auth_token", "a27da59c11f6d4ad7bba733cb137084b"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:30:00.224295"], ["updated_at", "2015-05-27 19:30:00.224295"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:30:00 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "a27da59c11f6d4ad7bba733cb137084b"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "654f5c4baa694a685c79e107dfcdc2ad"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$JEvFva7mb5MGg1g3KS2Gcegf7TQ41Q6PTC3v3aiu.YVPfT3gIwApe"], ["created_at", "2015-05-27 19:30:00.259558"], ["updated_at", "2015-05-27 19:30:00.259558"], ["auth_token", "654f5c4baa694a685c79e107dfcdc2ad"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:30:00.267992"], ["updated_at", "2015-05-27 19:30:00.267992"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 16:30:00 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "654f5c4baa694a685c79e107dfcdc2ad"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.0ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (9.6ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.0ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (9.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:30:00.365403"], ["updated_at", "2015-05-27 19:30:00.365403"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190967
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.1ms)
  Rendered circuits/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:30:00.427982"], ["updated_at", "2015-05-27 19:30:00.427982"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190968/measures" for 127.0.0.1 at 2015-05-27 16:30:00 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190968}, "subdomain"=>"api", "circuit_id"=>"980190968"}
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190968]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (9.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:32:39', '2015-05-27 19:32:39', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:32:39', '2015-05-27 19:32:39', 298486374, 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:32:39', '2015-05-27 19:32:39', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:32:39', '2015-05-27 19:32:39', 298486374)[0m
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (10.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3457a44d44043a17ed3b9389477bc968"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$CzOeoJTu.Asi3axq6641hubk6ULUN8z9YWERHp4Pg3fyDIv/DEKsi"], ["created_at", "2015-05-27 19:32:39.250715"], ["updated_at", "2015-05-27 19:32:39.250715"], ["auth_token", "3457a44d44043a17ed3b9389477bc968"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:32:39.265842"], ["updated_at", "2015-05-27 19:32:39.265842"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:32:39 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3457a44d44043a17ed3b9389477bc968"]]
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190963]]
Completed 200 OK in 20ms (Views: 1.2ms | ActiveRecord: 3.0ms)
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "475c7132e0b2564a1750f604b53c4ac5"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$fZT/bJELqNAbT8rYzXqKIenWMPYUUJPkDxMeHbr.0OSCaAQxIDq4S"], ["created_at", "2015-05-27 19:32:39.352352"], ["updated_at", "2015-05-27 19:32:39.352352"], ["auth_token", "475c7132e0b2564a1750f604b53c4ac5"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:32:39.356933"], ["updated_at", "2015-05-27 19:32:39.356933"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:32:39 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "475c7132e0b2564a1750f604b53c4ac5"]]
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.3ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f0c4576cb6481b326fc572f6d4f80c80"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$42k1NQvKj61PrIZUink5Le/HoNDQRBSr65ZM5O2KGb1/mqAScOlim"], ["created_at", "2015-05-27 19:32:39.393935"], ["updated_at", "2015-05-27 19:32:39.393935"], ["auth_token", "f0c4576cb6481b326fc572f6d4f80c80"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:32:39.400250"], ["updated_at", "2015-05-27 19:32:39.400250"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:32:39 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f0c4576cb6481b326fc572f6d4f80c80\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35mCircuit Load (0.3ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "62f217778b061499056db18dda68b9b6"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$JdHMC4kUof/8rl8LrhnL7.ApNBA8wDBlO06ygpZPEvt8rofngvWmG"], ["created_at", "2015-05-27 19:32:39.429298"], ["updated_at", "2015-05-27 19:32:39.429298"], ["auth_token", "62f217778b061499056db18dda68b9b6"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:32:39.434338"], ["updated_at", "2015-05-27 19:32:39.434338"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 16:32:39 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "62f217778b061499056db18dda68b9b6"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35mCircuit Load (0.3ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:32:39.462425"], ["updated_at", "2015-05-27 19:32:39.462425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190967]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 1.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.1ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.8ms)
  Rendered circuits/edit.html.erb within layouts/application (9.2ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:32:39.601715"], ["updated_at", "2015-05-27 19:32:39.601715"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190968
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (2.3ms)
  Rendered circuits/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (20.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:33:24', '2015-05-27 19:33:24', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:33:24', '2015-05-27 19:33:24', 298486374, 980190962)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:33:24', '2015-05-27 19:33:24', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:33:24', '2015-05-27 19:33:24', 298486374)[0m
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:33:24.544005"], ["updated_at", "2015-05-27 19:33:24.544005"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 17ms (ActiveRecord: 2.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (10.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.8ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_sidebar.html.erb (1.3ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 35ms (Views: 31.4ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/edit.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.8ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.3ms)
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (9.8ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "bb1b6e009b07ba310aced3230a17f30d"]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$K7Ph/VJwoKtvKbKWeHgVm.LViElxDGvMkfSDoalpPyAjPcvfCfVpW"], ["created_at", "2015-05-27 19:33:24.711834"], ["updated_at", "2015-05-27 19:33:24.711834"], ["auth_token", "bb1b6e009b07ba310aced3230a17f30d"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:33:24.719329"], ["updated_at", "2015-05-27 19:33:24.719329"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:33:24 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "bb1b6e009b07ba310aced3230a17f30d"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-27 19:33:24.764163"], ["updated_at", "2015-05-27 19:33:24.764163"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 4.8ms)
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35mCircuit Load (0.2ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35mCircuit Load (0.7ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (17.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:34:25', '2015-05-27 19:34:25', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:34:25', '2015-05-27 19:34:25', 298486374, 980190962)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:34:25', '2015-05-27 19:34:25', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:34:25', '2015-05-27 19:34:25', 298486374)[0m
  [1m[35m (5.8ms)[0m  COMMIT
  [1m[36m (8.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "35d3f24539e86858240ce19eeb9dcab4"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$RfuOK5YeIsJQp0cjkP.26eHRbrtRPGEV5V04hrLZMIsJPExyheYja"], ["created_at", "2015-05-27 19:34:25.299527"], ["updated_at", "2015-05-27 19:34:25.299527"], ["auth_token", "35d3f24539e86858240ce19eeb9dcab4"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:34:25.317313"], ["updated_at", "2015-05-27 19:34:25.317313"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:34:25 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "35d3f24539e86858240ce19eeb9dcab4\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35mCircuit Load (0.8ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190963]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "735abe0a35618ebfd1aa7270a0e60f92"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$iFoD4s.p8f80eMrro/YE9e36GXO0OR7Ei.IAng1qfRbIbtWRHqNYW"], ["created_at", "2015-05-27 19:34:25.398623"], ["updated_at", "2015-05-27 19:34:25.398623"], ["auth_token", "735abe0a35618ebfd1aa7270a0e60f92"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:34:25.407487"], ["updated_at", "2015-05-27 19:34:25.407487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:34:25 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "735abe0a35618ebfd1aa7270a0e60f92"]]
  [1m[36mMeasure Load (0.6ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190964]]
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 1.6ms)
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "98c4958303fc70426bf904b53afa9923"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$QAnACDI5A7O6yxpbxAD9X.RJSYsc8cWNcYwuZbRYKUpirSI1/ZNQq"], ["created_at", "2015-05-27 19:34:25.449974"], ["updated_at", "2015-05-27 19:34:25.449974"], ["auth_token", "98c4958303fc70426bf904b53afa9923"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:34:25.454522"], ["updated_at", "2015-05-27 19:34:25.454522"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:34:25 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "98c4958303fc70426bf904b53afa9923"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190965]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5d34ef57bc50858ed326e7f492cbad16"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$jeJyRhPFT7LpyfdKk7wTh.hC7fF468IuGbSx0Ps0h/ywhqD3TAQaa"], ["created_at", "2015-05-27 19:34:25.483206"], ["updated_at", "2015-05-27 19:34:25.483206"], ["auth_token", "5d34ef57bc50858ed326e7f492cbad16"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:34:25.487853"], ["updated_at", "2015-05-27 19:34:25.487853"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 16:34:25 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "5d34ef57bc50858ed326e7f492cbad16"]]
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "34fb34173bfee98cda69f1ed9ee43bd6"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$uwZaXgDXQRwlFqxDUddnGumXRLqk59BMMnY4UGJAPRanAIIsMXgqi"], ["created_at", "2015-05-27 19:34:25.519897"], ["updated_at", "2015-05-27 19:34:25.519897"], ["auth_token", "34fb34173bfee98cda69f1ed9ee43bd6"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:34:25.526085"], ["updated_at", "2015-05-27 19:34:25.526085"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 16:34:25 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190967}, "subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "34fb34173bfee98cda69f1ed9ee43bd6"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["circuit_id", 980190967], ["watts", 65], ["created_at", "2015-05-27 19:34:25.541843"], ["updated_at", "2015-05-27 19:34:25.541843"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.4ms | ActiveRecord: 3.6ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190967]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d93a10bffd" on table "measures"
DETAIL:  Key (id)=(980190967) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to Measure (20150522130847)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (7.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'measures'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "measures" DROP CONSTRAINT "fk_rails_d93a10bffd"
  [1m[36m (2.0ms)[0m  [1mDROP TABLE "measures"[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150522130847"]]
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (6.0ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "circuits" DROP CONSTRAINT "fk_rails_cdfc653008"
  [1m[36m (1.4ms)[0m  [1mDROP TABLE "circuits"[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150513183751"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1mDROP INDEX "index_users_on_reset_password_token"[0m
  [1m[35m (0.4ms)[0m  DROP INDEX "index_users_on_email"
  [1m[36m (1.6ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1  [["version", "20150511152613"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20150511152613)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (84.8ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying DEFAULT '' NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "auth_token" text, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (41.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (51.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150511152613"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateCircuits (20150513183751)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (91.9ms)[0m  [1mCREATE TABLE "circuits" ("id" serial primary key, "user_id" integer, "description" text, "type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (50.3ms)[0m  CREATE  INDEX  "index_circuits_on_user_id" ON "circuits"  ("user_id")
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "circuits" ADD CONSTRAINT "fk_rails_9832393487"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150513183751"]]
  [1m[36m (30.8ms)[0m  [1mCOMMIT[0m
Migrating to Measure (20150522130847)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (49.0ms)[0m  [1mCREATE TABLE "measures" ("id" serial primary key, "circuit_id" integer, "watts" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (50.9ms)[0m  CREATE  INDEX  "index_measures_on_circuit_id" ON "measures"  ("circuit_id")
  [1m[36m (2.8ms)[0m  [1mALTER TABLE "measures" ADD CONSTRAINT "fk_rails_d94efeabd6"
FOREIGN KEY ("circuit_id")
  REFERENCES "circuits" ("id")
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150522130847"]]
  [1m[36m (17.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (3.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'circuits'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (4.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'measures'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (3.7ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (11.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:35:24', '2015-05-27 19:35:24', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:35:24', '2015-05-27 19:35:24', 298486374, 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:35:24', '2015-05-27 19:35:24', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:35:24', '2015-05-27 19:35:24', 298486374)[0m
  [1m[35m (11.1ms)[0m  COMMIT
  [1m[36m (9.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.5ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 19.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "acaa04712757bc3a1fb1632888f24bc1"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$YtZkf6iqXoCcAU1MR6cAeuK8AcEJXru4MsQ.RqxpV4KWULWP7Avhy"], ["created_at", "2015-05-27 19:35:25.004820"], ["updated_at", "2015-05-27 19:35:25.004820"], ["auth_token", "acaa04712757bc3a1fb1632888f24bc1"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:35:25.022051"], ["updated_at", "2015-05-27 19:35:25.022051"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:35:25 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "acaa04712757bc3a1fb1632888f24bc1"]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-27 19:35:25.064579"], ["updated_at", "2015-05-27 19:35:25.064579"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 23ms (Views: 0.4ms | ActiveRecord: 6.2ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "c7d193c1903c41b921bee4b0cae36f77"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$A6YjKp/gY98H7wNOVqk6FOvzFgCItWYPm4zjff/HhsfNtLY8O.8T6"], ["created_at", "2015-05-27 19:35:25.122183"], ["updated_at", "2015-05-27 19:35:25.122183"], ["auth_token", "c7d193c1903c41b921bee4b0cae36f77"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:35:25.126165"], ["updated_at", "2015-05-27 19:35:25.126165"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:35:25 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "c7d193c1903c41b921bee4b0cae36f77\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_3
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35mCircuit Load (0.2ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (10.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:36:12', '2015-05-27 19:36:12', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:36:12', '2015-05-27 19:36:12', 298486374, 980190962)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:36:12', '2015-05-27 19:36:12', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:36:12', '2015-05-27 19:36:12', 298486374)[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 19.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6ab90a76f887b0e1b56486ea0166095b"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$SV1Ez7hSXKR99y7XBE.DiOZgSRyz.8gnfJVLpfpt0cq125xIVAgXS"], ["created_at", "2015-05-27 19:36:12.998440"], ["updated_at", "2015-05-27 19:36:12.998440"], ["auth_token", "6ab90a76f887b0e1b56486ea0166095b"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:36:13.013461"], ["updated_at", "2015-05-27 19:36:13.013461"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:36:13 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6ab90a76f887b0e1b56486ea0166095b"]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-27 19:36:13.056436"], ["updated_at", "2015-05-27 19:36:13.056436"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 22ms (Views: 0.6ms | ActiveRecord: 6.0ms)
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (18.0ms)
  Rendered circuits/new.html.erb within layouts/application (19.7ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.3ms)
  Rendered circuits/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_navigation_links.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (8.7ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.0ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:36:13.185319"], ["updated_at", "2015-05-27 19:36:13.185319"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
Redirected to http://test.host/demands/980190964
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "486ddbafcb41bc2e63967e999a7a8e87"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$O1Kp2pZdspMvvfbE6WzU1eYmRRW6UBOVf0alREVey8V6bmhYn3t/."], ["created_at", "2015-05-27 19:36:13.213248"], ["updated_at", "2015-05-27 19:36:13.213248"], ["auth_token", "486ddbafcb41bc2e63967e999a7a8e87"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:36:13.218287"], ["updated_at", "2015-05-27 19:36:13.218287"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:36:13 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "486ddbafcb41bc2e63967e999a7a8e87"]]
  [1m[35mMeasure Load (0.6ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 1.3ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_2
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_3
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_3
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_3
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_3[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_4[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:37:00', '2015-05-27 19:37:00', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:37:00', '2015-05-27 19:37:00', 298486374, 980190962)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:37:00', '2015-05-27 19:37:00', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:37:00', '2015-05-27 19:37:00', 298486374)[0m
  [1m[35m (10.3ms)[0m  COMMIT
  [1m[36m (9.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "14c0a37d322833781cba28018deaf1f8"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$VApyCVajagDFREMVZAVlZuTt2e5BdEvxzyR4P6iprFknmvLwUD3eu"], ["created_at", "2015-05-27 19:37:00.572829"], ["updated_at", "2015-05-27 19:37:00.572829"], ["auth_token", "14c0a37d322833781cba28018deaf1f8"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:37:00.590122"], ["updated_at", "2015-05-27 19:37:00.590122"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:37:00 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "14c0a37d322833781cba28018deaf1f8\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_4
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3e150ae8fa036330f906f9f5a0942eae"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$YlY6WsTqt1a7dCFlm77x1uWzEa91lvWX5jXmo15Aq2ZAtzY0SkGm2"], ["created_at", "2015-05-27 19:37:00.724361"], ["updated_at", "2015-05-27 19:37:00.724361"], ["auth_token", "3e150ae8fa036330f906f9f5a0942eae"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:37:00.730504"], ["updated_at", "2015-05-27 19:37:00.730504"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:37:00 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "3e150ae8fa036330f906f9f5a0942eae"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-27 19:37:00.749827"], ["updated_at", "2015-05-27 19:37:00.749827"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_5
Completed 201 Created in 16ms (Views: 0.5ms | ActiveRecord: 6.0ms)
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_6
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:37:00.774448"], ["updated_at", "2015-05-27 19:37:00.774448"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_6
Redirected to http://test.host/demands/980190965
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (8.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (8.6ms)
  Rendered circuits/new.html.erb within layouts/application (10.4ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (9.2ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.0ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_6[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_6
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_5
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_6[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_6[0m
Redirected to http://test.host/circuits
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:38:01', '2015-05-27 19:38:01', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:38:01', '2015-05-27 19:38:01', 298486374, 980190962)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:38:01', '2015-05-27 19:38:01', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:38:01', '2015-05-27 19:38:01', 298486374)[0m
  [1m[35m (6.8ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 19.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.7ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (13.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (1.8ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 18.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.8ms)
  Rendered circuits/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:38:02.159590"], ["updated_at", "2015-05-27 19:38:02.159590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (10.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "cc4394f5e9b72d97c28e6c949b0eadb6"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$t8VbTG0OneEGFaviBoxlAuNw95kItriW0NALXC30/HQLxvGFwNsvm"], ["created_at", "2015-05-27 19:38:02.208485"], ["updated_at", "2015-05-27 19:38:02.208485"], ["auth_token", "cc4394f5e9b72d97c28e6c949b0eadb6"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:38:02.217488"], ["updated_at", "2015-05-27 19:38:02.217488"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:38:02 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "cc4394f5e9b72d97c28e6c949b0eadb6\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_2
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_2
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_3
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_3[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_4[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "574c4a3fc40a799005267d47850736f2"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$GKCF4Oeeq1VgAo1mnHNZ..aml5yeJBDslsuOY57wZI9XIdiWiPdYm"], ["created_at", "2015-05-27 19:38:02.310817"], ["updated_at", "2015-05-27 19:38:02.310817"], ["auth_token", "574c4a3fc40a799005267d47850736f2"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_5
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:38:02.315818"], ["updated_at", "2015-05-27 19:38:02.315818"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:38:02 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "574c4a3fc40a799005267d47850736f2"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-27 19:38:02.332418"], ["updated_at", "2015-05-27 19:38:02.332418"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
Completed 201 Created in 14ms (Views: 0.4ms | ActiveRecord: 5.0ms)
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190965]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190965) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (14.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:38:58', '2015-05-27 19:38:58', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:38:58', '2015-05-27 19:38:58', 298486374, 980190962)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:38:58', '2015-05-27 19:38:58', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:38:58', '2015-05-27 19:38:58', 298486374)[0m
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (10.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9f045bb27da371ad4dcddacb7fb7656a"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$eY8/hBr/i1vhToeK1wh/VeiJqP4FflY.k6hXrHIvcyhqfPNt3aatu"], ["created_at", "2015-05-27 19:38:58.654365"], ["updated_at", "2015-05-27 19:38:58.654365"], ["auth_token", "9f045bb27da371ad4dcddacb7fb7656a"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:38:58.675803"], ["updated_at", "2015-05-27 19:38:58.675803"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:38:58 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9f045bb27da371ad4dcddacb7fb7656a"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-27 19:38:58.727168"], ["updated_at", "2015-05-27 19:38:58.727168"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 25ms (Views: 0.4ms | ActiveRecord: 5.2ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 29.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f5b2c62fbadda7ef41cce52e63d69f1b"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$FVinnq94lhpX843ZDd8bMusNlcaF1yiO7k0T89ph44ylyLueO3J5."], ["created_at", "2015-05-27 19:38:58.834769"], ["updated_at", "2015-05-27 19:38:58.834769"], ["auth_token", "f5b2c62fbadda7ef41cce52e63d69f1b"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:38:58.840155"], ["updated_at", "2015-05-27 19:38:58.840155"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:38:58 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "f5b2c62fbadda7ef41cce52e63d69f1b\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_4
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190963]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190963) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:39:24', '2015-05-27 19:39:24', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:39:24', '2015-05-27 19:39:24', 298486374, 980190962)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:39:24', '2015-05-27 19:39:24', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:39:24', '2015-05-27 19:39:24', 298486374)[0m
  [1m[35m (6.6ms)[0m  COMMIT
  [1m[36m (9.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "22178491dd0a6a1f6eebeffd5d835873"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$pX0tTWETciSLuG/kRQKrkeR58YZD3BGqeGxBoIuZgpn3r/IegsQsm"], ["created_at", "2015-05-27 19:39:24.789244"], ["updated_at", "2015-05-27 19:39:24.789244"], ["auth_token", "22178491dd0a6a1f6eebeffd5d835873"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:39:24.811255"], ["updated_at", "2015-05-27 19:39:24.811255"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:39:24 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "22178491dd0a6a1f6eebeffd5d835873\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9b310a82a8a050069712579453dde3e1"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$icUu2.c1rmdKaoN/BaYHAOVQj.EgF6g/8qUXI2lL.bPIRW/oAfDmO"], ["created_at", "2015-05-27 19:39:24.905739"], ["updated_at", "2015-05-27 19:39:24.905739"], ["auth_token", "9b310a82a8a050069712579453dde3e1"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:39:24.910275"], ["updated_at", "2015-05-27 19:39:24.910275"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:39:24 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9b310a82a8a050069712579453dde3e1"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-27 19:39:24.936243"], ["updated_at", "2015-05-27 19:39:24.936243"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 5.5ms)
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
PG::ForeignKeyViolation: ERROR:  update or delete on table "circuits" violates foreign key constraint "fk_rails_d94efeabd6" on table "measures"
DETAIL:  Key (id)=(980190964) is still referenced from table "measures".
: DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.6ms)
  Rendered welcome/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (1.2ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_5[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_5[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (23.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:39:54', '2015-05-27 19:39:54', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:39:54', '2015-05-27 19:39:54', 298486374, 980190962)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:39:54', '2015-05-27 19:39:54', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:39:54', '2015-05-27 19:39:54', 298486374)[0m
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (9.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 18.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (10.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.0ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 16.7ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.2ms)
  Rendered circuits/edit.html.erb within layouts/application (8.4ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:39:54.497399"], ["updated_at", "2015-05-27 19:39:54.497399"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190963
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.2ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (9.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 13.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "e0ba9369632f0e145918d86f04eddf7a"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$PheEwtscgdMkXLsJFq7I0eAweVSDZ99JgPKWN7QYzIJOGcLQ2xtGe"], ["created_at", "2015-05-27 19:39:54.552863"], ["updated_at", "2015-05-27 19:39:54.552863"], ["auth_token", "e0ba9369632f0e145918d86f04eddf7a"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:39:54.559855"], ["updated_at", "2015-05-27 19:39:54.559855"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:39:54 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190964}, "subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "e0ba9369632f0e145918d86f04eddf7a"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["circuit_id", 980190964], ["watts", 65], ["created_at", "2015-05-27 19:39:54.601200"], ["updated_at", "2015-05-27 19:39:54.601200"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 20ms (Views: 0.5ms | ActiveRecord: 4.8ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "0333674e6e6fc56a2dc6d17c79101295"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$GD1Aq1sWktoCbPnulp0cwOv.FRhYDBaSFFsqQ0LOZ49lox4XxNt9K"], ["created_at", "2015-05-27 19:39:54.618033"], ["updated_at", "2015-05-27 19:39:54.618033"], ["auth_token", "0333674e6e6fc56a2dc6d17c79101295"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_2
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:39:54.622364"], ["updated_at", "2015-05-27 19:39:54.622364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_2
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:39:54 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "0333674e6e6fc56a2dc6d17c79101295"]]
  [1m[35mMeasure Load (0.3ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_2[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_3
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_3
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_3[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_4
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_4[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_5
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:41:04', '2015-05-27 19:41:04', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:41:04', '2015-05-27 19:41:04', 298486374, 980190962)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:41:04', '2015-05-27 19:41:04', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:41:04', '2015-05-27 19:41:04', 298486374)[0m
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (9.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:41:04.225515"], ["updated_at", "2015-05-27 19:41:04.225515"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190963
Completed 302 Found in 15ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.6ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.1ms)
  Rendered circuits/edit.html.erb within layouts/application (11.1ms)
  Rendered layouts/_navigation_links.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 30ms (Views: 25.7ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.2ms)
  Rendered circuits/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (10.3ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.1ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 2.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "c82c3d663ee9c98a16cd20b81abdb068"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$kPfcH0vTPEG7YVqpd0HEJePe1BtOA6B5lg3hsPoC.h1nEgvXGbl/O"], ["created_at", "2015-05-27 19:41:04.372216"], ["updated_at", "2015-05-27 19:41:04.372216"], ["auth_token", "c82c3d663ee9c98a16cd20b81abdb068"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:41:04.379429"], ["updated_at", "2015-05-27 19:41:04.379429"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:41:04 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "c82c3d663ee9c98a16cd20b81abdb068"]]
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190964]]
Completed 200 OK in 16ms (Views: 1.1ms | ActiveRecord: 2.9ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_2[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_2
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_3[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_3
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_4[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_4
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_5[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "46db7398dfa0daf70c35029c113ab8c4"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$IwmbIWKNi.9N79GMcVWZMeOsIxKBE4zQvxLbPpGpHTBsppz4khHG2"], ["created_at", "2015-05-27 19:41:04.483610"], ["updated_at", "2015-05-27 19:41:04.483610"], ["auth_token", "46db7398dfa0daf70c35029c113ab8c4"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_5[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:41:04.488968"], ["updated_at", "2015-05-27 19:41:04.488968"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_5
Started POST "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:41:04 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190965}, "subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "46db7398dfa0daf70c35029c113ab8c4"]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_5
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190965], ["watts", 65], ["created_at", "2015-05-27 19:41:04.503974"], ["updated_at", "2015-05-27 19:41:04.503974"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_5
Completed 201 Created in 13ms (Views: 0.5ms | ActiveRecord: 4.0ms)
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_5[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_5
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (15.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:42:40', '2015-05-27 19:42:40', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:42:40', '2015-05-27 19:42:40', 298486374, 980190962)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:42:40', '2015-05-27 19:42:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:42:40', '2015-05-27 19:42:40', 298486374)[0m
  [1m[35m (11.3ms)[0m  COMMIT
  [1m[36m (9.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6c2e7563f2dda3221e879f947bc5041f"]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$wgkoxOZ0cx.nniTHDDus8O3yNK2FRp7CIboDa61E9DQ/bbw9stwAC"], ["created_at", "2015-05-27 19:42:40.089337"], ["updated_at", "2015-05-27 19:42:40.089337"], ["auth_token", "6c2e7563f2dda3221e879f947bc5041f"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:42:40.106374"], ["updated_at", "2015-05-27 19:42:40.106374"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:42:40 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "6c2e7563f2dda3221e879f947bc5041f"]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-27 19:42:40.160585"], ["updated_at", "2015-05-27 19:42:40.160585"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 27ms (Views: 0.4ms | ActiveRecord: 6.0ms)
  [1m[36mMeasure Load (0.9ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "measures" WHERE "measures"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9031556a4a730201c28302b281cd4fb5"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$y7vM2q649CFc7ejKtiVVdu7anE0kY4IZebtE.GanukSVqyeHCiq3y"], ["created_at", "2015-05-27 19:42:40.208110"], ["updated_at", "2015-05-27 19:42:40.208110"], ["auth_token", "9031556a4a730201c28302b281cd4fb5"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:42:40.212677"], ["updated_at", "2015-05-27 19:42:40.212677"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:42:40 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "9031556a4a730201c28302b281cd4fb5"]]
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 1.2ms)
  [1m[36mMeasure Load (0.6ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "87e3e60cb9508ba750b04721fbe68558"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$X4.SNO2WbuyQKQOZA1yvRuFAs8Iy69udos58dQjFFPwS3tmpI7uki"], ["created_at", "2015-05-27 19:42:40.252141"], ["updated_at", "2015-05-27 19:42:40.252141"], ["auth_token", "87e3e60cb9508ba750b04721fbe68558"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:42:40.257152"], ["updated_at", "2015-05-27 19:42:40.257152"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:42:40 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "87e3e60cb9508ba750b04721fbe68558\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190965]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "d7ebfc1a4c4e026ee89e8c26d996600f"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$BeaFsD9QHcKB6RDrmplVEOB9RPF5rw7U8DWJpFU74ZxnMc0b1Jc/G"], ["created_at", "2015-05-27 19:42:40.289467"], ["updated_at", "2015-05-27 19:42:40.289467"], ["auth_token", "d7ebfc1a4c4e026ee89e8c26d996600f"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:42:40.294410"], ["updated_at", "2015-05-27 19:42:40.294410"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 16:42:40 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "d7ebfc1a4c4e026ee89e8c26d996600f"]]
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190966]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.1ms)
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures"
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190966]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "27c59c6443b851f0007e4e0466ca751d"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$pUWjnx/NXeZ2D36qPuShVOBkzQqz6S1I28wSFiDu9N7nXCP7ROIim"], ["created_at", "2015-05-27 19:42:40.323457"], ["updated_at", "2015-05-27 19:42:40.323457"], ["auth_token", "27c59c6443b851f0007e4e0466ca751d"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:42:40.329851"], ["updated_at", "2015-05-27 19:42:40.329851"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 16:42:40 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "27c59c6443b851f0007e4e0466ca751d"]]
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190967]]
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 1.1ms)
  [1m[36mMeasure Load (0.7ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.6ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190967]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190967]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (6.2ms)
  Rendered circuits/new.html.erb within layouts/application (20.3ms)
  Rendered layouts/_navigation_links.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_sidebar.html.erb (1.1ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 40ms (Views: 35.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:42:40.423212"], ["updated_at", "2015-05-27 19:42:40.423212"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190968
Completed 302 Found in 12ms (ActiveRecord: 2.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (0.9ms)
  Rendered circuits/edit.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.6ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (9.1ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (2.4ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.4ms)
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.4ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:43:21', '2015-05-27 19:43:21', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:43:21', '2015-05-27 19:43:21', 298486374, 980190962)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:43:21', '2015-05-27 19:43:21', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:43:21', '2015-05-27 19:43:21', 298486374)[0m
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (9.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_navigation_links.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (0.9ms)
  Rendered layouts/_alerts.html.erb (0.3ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 19.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "297ecdbb2d36a447101d958507254392"]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$9BP7stUyulhKa8WwRAWs2.A.Opiyw0qAD8sqwkqQPxIfOIsTTuBQ."], ["created_at", "2015-05-27 19:43:22.057784"], ["updated_at", "2015-05-27 19:43:22.057784"], ["auth_token", "297ecdbb2d36a447101d958507254392"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:43:22.085294"], ["updated_at", "2015-05-27 19:43:22.085294"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:43:22 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190963}, "subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "297ecdbb2d36a447101d958507254392"]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["circuit_id", 980190963], ["watts", 65], ["created_at", "2015-05-27 19:43:22.127975"], ["updated_at", "2015-05-27 19:43:22.127975"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 201 Created in 24ms (Views: 0.6ms | ActiveRecord: 5.8ms)
  [1m[36mMeasure Load (0.9ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "measures" WHERE "measures"."id" = $1[0m  [["id", 10]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.5ms)
  Rendered circuits/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_navigation_links.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_sidebar.html.erb (0.7ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.6ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/circuits
Completed 302 Found in 4ms (ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1[0m  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_navigation_links.html.erb (0.2ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (8.9ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (1.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mCircuit Load (0.4ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.2ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.0ms)
  Rendered circuits/edit.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:43:22.307087"], ["updated_at", "2015-05-27 19:43:22.307087"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190964
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "c0d33c22e59c2b160df1158fe76edb6c"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$iNqB5GYKSIHM2gr2Qu.ZCe173z94fLUkW89a4a5MsvV1ONQn.gQCu"], ["created_at", "2015-05-27 19:43:22.322064"], ["updated_at", "2015-05-27 19:43:22.322064"], ["auth_token", "c0d33c22e59c2b160df1158fe76edb6c"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:43:22.326552"], ["updated_at", "2015-05-27 19:43:22.326552"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:43:22 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "c0d33c22e59c2b160df1158fe76edb6c"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 1.0ms)
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures"
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "1fd46d9be22d538d6a70b5c35dc3bc25"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$LvsWUCefseHVYqSDEvDDVOp7VCscENSePVXQ8DBtE9vH3EmAjeub2"], ["created_at", "2015-05-27 19:43:22.361549"], ["updated_at", "2015-05-27 19:43:22.361549"], ["auth_token", "1fd46d9be22d538d6a70b5c35dc3bc25"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:43:22.367286"], ["updated_at", "2015-05-27 19:43:22.367286"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 16:43:22 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "1fd46d9be22d538d6a70b5c35dc3bc25"]]
  [1m[35mMeasure Load (0.5ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190966]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190966]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190965]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "fe236da74487100993fe7a8cf2374580"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$UfKqi4fmFvz.P.KYSL/AJO6PHo7uJ2Rd5xrBsXMG66NgQ1VnQqbJW"], ["created_at", "2015-05-27 19:43:22.407648"], ["updated_at", "2015-05-27 19:43:22.407648"], ["auth_token", "fe236da74487100993fe7a8cf2374580"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:43:22.413391"], ["updated_at", "2015-05-27 19:43:22.413391"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 16:43:22 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "fe236da74487100993fe7a8cf2374580\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36mMeasure Load (0.5ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190967]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "f265f4d3b0f8a43bd66f43e6b57ac728"]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$/SEcdsJW6L7OMdTd.aQHluWTYpZ.KlUysr0cXb3h7iopAtmpymIm."], ["created_at", "2015-05-27 19:43:22.442391"], ["updated_at", "2015-05-27 19:43:22.442391"], ["auth_token", "f265f4d3b0f8a43bd66f43e6b57ac728"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:43:22.446594"], ["updated_at", "2015-05-27 19:43:22.446594"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190968/measures" for 127.0.0.1 at 2015-05-27 16:43:22 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190968"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "f265f4d3b0f8a43bd66f43e6b57ac728"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190968]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures"
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190968]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190967]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (19.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "circuits" DISABLE TRIGGER ALL;ALTER TABLE "measures" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "circuits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Demand', '2015-05-27 19:44:12', '2015-05-27 19:44:12', 980190962, 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "circuits" ("description", "type", "created_at", "updated_at", "id", "user_id") VALUES ('MyText', 'Generation', '2015-05-27 19:44:12', '2015-05-27 19:44:12', 298486374, 980190962)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Rocco', 'rocco@motherfucker.com', '2b4df314f32b4a659eb0f8ea1e7f5506', '2015-05-27 19:44:12', '2015-05-27 19:44:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "auth_token", "created_at", "updated_at", "id") VALUES ('Jenna', 'jenna@fine.com', '2b4df314f32b4a659eb0f8ea1e7f5508', '2015-05-27 19:44:12', '2015-05-27 19:44:12', 298486374)[0m
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (9.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "circuits" ENABLE TRIGGER ALL;ALTER TABLE "measures" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------------------------
ListingMesuresTest: test_invalid_authentication_sets_WWWW-Authenticate_to_Application
-------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "28433256559eda54be5bedca0ad6256f"]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$1lM9/vgVggwlu/EP/epQF.ZP2AcCCf6wck.lYG6ELp4B9PuJoOZjq"], ["created_at", "2015-05-27 19:44:13.007775"], ["updated_at", "2015-05-27 19:44:13.007775"], ["auth_token", "28433256559eda54be5bedca0ad6256f"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:44:13.025637"], ["updated_at", "2015-05-27 19:44:13.025637"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190963/measures" for 127.0.0.1 at 2015-05-27 16:44:13 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190963"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "28433256559eda54be5bedca0ad6256f\"fake"]]
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35mMeasure Load (1.1ms)[0m  SELECT "measures".* FROM "measures"
  [1m[36mCircuit Load (0.8ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------
ListingMesuresTest: test_return_list_of_all_measures_form_current_circuit
-------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "531dca174f2510186738c328f20e5cc2"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$5OaH7HNBvMlGt8/zxo5Z1.2OoKASRlE0LucaG4cr3buoRHh3zZoZO"], ["created_at", "2015-05-27 19:44:13.112145"], ["updated_at", "2015-05-27 19:44:13.112145"], ["auth_token", "531dca174f2510186738c328f20e5cc2"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:44:13.116611"], ["updated_at", "2015-05-27 19:44:13.116611"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190964/measures" for 127.0.0.1 at 2015-05-27 16:44:13 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190964"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "531dca174f2510186738c328f20e5cc2"]]
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190964]]
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 1.0ms)
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.4ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
ListingMesuresTest: test_valid_authentication_with_manual_token
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "6f916f96f49b84a9e6e8de1a0be680db"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$M8aHCtlbITMmdN6V3rTEfuQBL1s8.hqC/EVZYnvOBOqwu1wMigBIy"], ["created_at", "2015-05-27 19:44:13.147652"], ["updated_at", "2015-05-27 19:44:13.147652"], ["auth_token", "6f916f96f49b84a9e6e8de1a0be680db"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:44:13.151497"], ["updated_at", "2015-05-27 19:44:13.151497"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/circuits/980190965/measures" for 127.0.0.1 at 2015-05-27 16:44:13 -0300
Processing by API::MeasuresController#index as JSON
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190965"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "6f916f96f49b84a9e6e8de1a0be680db"]]
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1[0m  [["circuit_id", 980190965]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures"
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT "circuits".* FROM "circuits"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1  [["id", 298486374]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 980190965]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ListingMesuresTest: test_valid_authentication
---------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'fake@trile.cl' LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "774c1e489d928f565339e8c4aa5140d3"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["name", "fake"], ["email", "fake@trile.cl"], ["encrypted_password", "$2a$04$I3qFXv12fBCWyNf9lfcjROR0URfXuHy7JK.w8Vh8qQ74iaKRGB8mG"], ["created_at", "2015-05-27 19:44:13.186465"], ["updated_at", "2015-05-27 19:44:13.186465"], ["auth_token", "774c1e489d928f565339e8c4aa5140d3"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:44:13.191806"], ["updated_at", "2015-05-27 19:44:13.191806"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/circuits/980190966/measures" for 127.0.0.1 at 2015-05-27 16:44:13 -0300
Processing by API::MeasuresController#index as HTML
  Parameters: {"subdomain"=>"api", "circuit_id"=>"980190966"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1[0m  [["auth_token", "774c1e489d928f565339e8c4aa5140d3"]]
  [1m[35mMeasure Load (0.4ms)[0m  SELECT "measures".* FROM "measures" WHERE "measures"."circuit_id" = $1  [["circuit_id", 980190966]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[36mMeasure Load (0.4ms)[0m  [1mSELECT "measures".* FROM "measures"[0m
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190966]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190966]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CreatingMeasuresTest: test_creates_measures
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'faker@trile.cl' LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "4ac75ff76c476014866674f31ad35de1"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "encrypted_password", "created_at", "updated_at", "auth_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "faker"], ["email", "faker@trile.cl"], ["encrypted_password", "$2a$04$CVJ4CrdFBBpubyUPdrNHluwYCGdxrZ/8.7k6iYQXkDGf.GFyOY60."], ["created_at", "2015-05-27 19:44:13.223858"], ["updated_at", "2015-05-27 19:44:13.223858"], ["auth_token", "4ac75ff76c476014866674f31ad35de1"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "circuits" ("type", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["type", "Demand"], ["description", "Circuito de test"], ["created_at", "2015-05-27 19:44:13.230253"], ["updated_at", "2015-05-27 19:44:13.230253"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/circuits/980190967/measures" for 127.0.0.1 at 2015-05-27 16:44:13 -0300
Processing by API::MeasuresController#create as JSON
  Parameters: {"measure"=>{"watts"=>65, "circuit_id"=>980190967}, "subdomain"=>"api", "circuit_id"=>"980190967"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."auth_token" = $1 LIMIT 1  [["auth_token", "4ac75ff76c476014866674f31ad35de1"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "measures" ("circuit_id", "watts", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["circuit_id", 980190967], ["watts", 65], ["created_at", "2015-05-27 19:44:13.240190"], ["updated_at", "2015-05-27 19:44:13.240190"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.3ms | ActiveRecord: 2.1ms)
  [1m[35mMeasure Load (0.3ms)[0m  SELECT "measures".* FROM "measures"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "measures" WHERE "measures"."id" = $1  [["id", 11]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCircuit Load (0.3ms)[0m  SELECT "circuits".* FROM "circuits"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "circuits" WHERE "circuits"."type" IN ('Generation') AND "circuits"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190967]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 980190967]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
WelcomeControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  Rendered welcome/_general_status.html.erb (0.5ms)
  Rendered welcome/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navigation_links.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_sidebar.html.erb (1.0ms)
  Rendered layouts/_alerts.html.erb (0.4ms)
  Rendered layouts/_right_side_bar.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
CircuitsControllerTest: test_should_create_circuit
--------------------------------------------------
  [1m[35mCircuit Load (0.5ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
Processing by CircuitsController#create as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "circuits" ("user_id", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 980190962], ["description", "MyText"], ["created_at", "2015-05-27 19:44:13.306946"], ["updated_at", "2015-05-27 19:44:13.306946"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/demands/980190968
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CircuitsControllerTest: test_should_show_circuit
------------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  Rendered circuits/show.html.erb within layouts/application (8.7ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered layouts/_navigation_links.html.erb (1.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
CircuitsControllerTest: test_should_destroy_circuit
---------------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "circuits"[0m
Processing by CircuitsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCircuit Load (0.7ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "circuits" WHERE "circuits"."type" IN ('Demand') AND "circuits"."id" = $1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/circuits
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "circuits"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CircuitsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (7.3ms)
  Rendered circuits/edit.html.erb within layouts/application (8.6ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CircuitsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mCircuit Load (0.5ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCircuit Load (0.5ms)[0m  SELECT "circuits".* FROM "circuits" WHERE "circuits"."user_id" = $1  [["user_id", 980190962]]
  Rendered circuits/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
CircuitsControllerTest: test_should_update_circuit
--------------------------------------------------
  [1m[36mCircuit Load (0.3ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CircuitsController#update as HTML
  Parameters: {"circuit"=>{"description"=>"MyText", "type"=>"Demand", "user_id"=>"298486374"}, "id"=>"980190962"}
  [1m[36mCircuit Load (0.4ms)[0m  [1mSELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/demands/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CircuitsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mCircuit Load (0.3ms)[0m  SELECT  "circuits".* FROM "circuits" WHERE "circuits"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CircuitsController#new as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 980190962]]
  Rendered circuits/_form.html.erb (1.4ms)
  Rendered circuits/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation_links.html.erb (0.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_sidebar.html.erb (0.5ms)
  Rendered layouts/_alerts.html.erb (0.1ms)
  Rendered layouts/_right_side_bar.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
